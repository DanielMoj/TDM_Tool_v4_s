[
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "load_priors"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", "priors", "TRUE"]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "&&",
                    "args": [
                      {
                        "type": "name",
                        "value": "cache"
                      },
                      {
                        "type": "call",
                        "fun": "exists",
                        "args": {
                          "1": {
                            "type": "literal",
                            "value": ".prior_cache"
                          },
                          "envir": {
                            "type": "name",
                            "value": ".GlobalEnv"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "prior_cache"
                          },
                          {
                            "type": "call",
                            "fun": "get",
                            "args": {
                              "1": {
                                "type": "literal",
                                "value": ".prior_cache"
                              },
                              "envir": {
                                "type": "name",
                                "value": ".GlobalEnv"
                              }
                            }
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "prior_cache"
                          },
                          {
                            "type": "call",
                            "fun": "list",
                            "args": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "priors"
                  },
                  {
                    "type": "call",
                    "fun": "lapply",
                    "args": [
                      {
                        "type": "name",
                        "value": "drug_names"
                      },
                      {
                        "type": "call",
                        "fun": "function",
                        "args": [
                          {
                            "type": "pairlist",
                            "value": ""
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "if",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "&&",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "cache"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "%in%",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "drug"
                                          },
                                          {
                                            "type": "call",
                                            "fun": "names",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "prior_cache"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "return",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "[[",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "prior_cache"
                                              },
                                              {
                                                "type": "name",
                                                "value": "drug"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "file_path"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "file.path",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "prior_dir"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "paste0",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "drug"
                                          },
                                          {
                                            "type": "literal",
                                            "value": ".json"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "if",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "!",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "file.exists",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "file_path"
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "warning",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "paste",
                                            "args": [
                                              {
                                                "type": "literal",
                                                "value": "Prior-Datei nicht gefunden:"
                                              },
                                              {
                                                "type": "name",
                                                "value": "file_path"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "return",
                                        "args": [
                                          {
                                            "type": "NULL",
                                            "value": []
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "prior_data"
                                  },
                                  {
                                    "type": "call",
                                    "fun": ["::", "jsonlite", "fromJSON"],
                                    "args": {
                                      "1": {
                                        "type": "name",
                                        "value": "file_path"
                                      },
                                      "simplifyVector": {
                                        "type": "literal",
                                        "value": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "prior_data"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "validate_prior_structure",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "prior_data"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "if",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "cache"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "<-",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "[[",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "prior_cache"
                                              },
                                              {
                                                "type": "name",
                                                "value": "drug"
                                              }
                                            ]
                                          },
                                          {
                                            "type": "name",
                                            "value": "prior_data"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "return",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "prior_data"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "NULL",
                            "value": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "call",
                    "fun": "names",
                    "args": [
                      {
                        "type": "name",
                        "value": "priors"
                      }
                    ]
                  },
                  {
                    "type": "name",
                    "value": "drug_names"
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "name",
                    "value": "cache"
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "assign",
                        "args": {
                          "1": {
                            "type": "literal",
                            "value": ".prior_cache"
                          },
                          "2": {
                            "type": "name",
                            "value": "prior_cache"
                          },
                          "envir": {
                            "type": "name",
                            "value": ".GlobalEnv"
                          }
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "name",
                    "value": "priors"
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "batch_process_prior_json"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ""
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "json_list"
                  },
                  {
                    "type": "call",
                    "fun": "lapply",
                    "args": [
                      {
                        "type": "name",
                        "value": "json_files"
                      },
                      {
                        "type": "call",
                        "fun": "function",
                        "args": [
                          {
                            "type": "pairlist",
                            "value": ""
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "if",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "file.exists",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "file"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": ["::", "jsonlite", "fromJSON"],
                                        "args": {
                                          "1": {
                                            "type": "name",
                                            "value": "file"
                                          },
                                          "simplifyVector": {
                                            "type": "literal",
                                            "value": true
                                          }
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "NULL",
                                        "value": []
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "NULL",
                            "value": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "json_list"
                  },
                  {
                    "type": "call",
                    "fun": "[",
                    "args": [
                      {
                        "type": "name",
                        "value": "json_list"
                      },
                      {
                        "type": "call",
                        "fun": "!",
                        "args": [
                          {
                            "type": "call",
                            "fun": "sapply",
                            "args": [
                              {
                                "type": "name",
                                "value": "json_list"
                              },
                              {
                                "type": "name",
                                "value": "is.null"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "all_params"
                  },
                  {
                    "type": "call",
                    "fun": "unique",
                    "args": [
                      {
                        "type": "call",
                        "fun": "unlist",
                        "args": [
                          {
                            "type": "call",
                            "fun": "lapply",
                            "args": [
                              {
                                "type": "name",
                                "value": "json_list"
                              },
                              {
                                "type": "name",
                                "value": "names"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "prior_df"
                  },
                  {
                    "type": "call",
                    "fun": "do.call",
                    "args": [
                      {
                        "type": "name",
                        "value": "rbind"
                      },
                      {
                        "type": "call",
                        "fun": "lapply",
                        "args": [
                          {
                            "type": "name",
                            "value": "json_list"
                          },
                          {
                            "type": "call",
                            "fun": "function",
                            "args": [
                              {
                                "type": "pairlist",
                                "value": ""
                              },
                              {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "<-",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "row_data"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "sapply",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "all_params"
                                          },
                                          {
                                            "type": "call",
                                            "fun": "function",
                                            "args": [
                                              {
                                                "type": "pairlist",
                                                "value": ""
                                              },
                                              {
                                                "type": "call",
                                                "fun": "{",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "if",
                                                    "args": [
                                                      {
                                                        "type": "call",
                                                        "fun": "%in%",
                                                        "args": [
                                                          {
                                                            "type": "name",
                                                            "value": "param"
                                                          },
                                                          {
                                                            "type": "call",
                                                            "fun": "names",
                                                            "args": [
                                                              {
                                                                "type": "name",
                                                                "value": "prior"
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "type": "call",
                                                        "fun": "{",
                                                        "args": [
                                                          {
                                                            "type": "call",
                                                            "fun": "<-",
                                                            "args": [
                                                              {
                                                                "type": "name",
                                                                "value": "value"
                                                              },
                                                              {
                                                                "type": "call",
                                                                "fun": "[[",
                                                                "args": [
                                                                  {
                                                                    "type": "name",
                                                                    "value": "prior"
                                                                  },
                                                                  {
                                                                    "type": "name",
                                                                    "value": "param"
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "type": "call",
                                                            "fun": "if",
                                                            "args": [
                                                              {
                                                                "type": "call",
                                                                "fun": "&&",
                                                                "args": [
                                                                  {
                                                                    "type": "call",
                                                                    "fun": "is.list",
                                                                    "args": [
                                                                      {
                                                                        "type": "name",
                                                                        "value": "value"
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "type": "call",
                                                                    "fun": "!",
                                                                    "args": [
                                                                      {
                                                                        "type": "call",
                                                                        "fun": "is.data.frame",
                                                                        "args": [
                                                                          {
                                                                            "type": "name",
                                                                            "value": "value"
                                                                          }
                                                                        ]
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "type": "call",
                                                                "fun": "{",
                                                                "args": [
                                                                  {
                                                                    "type": "call",
                                                                    "fun": ["::", "jsonlite", "toJSON"],
                                                                    "args": {
                                                                      "1": {
                                                                        "type": "name",
                                                                        "value": "value"
                                                                      },
                                                                      "auto_unbox": {
                                                                        "type": "literal",
                                                                        "value": true
                                                                      }
                                                                    }
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "type": "call",
                                                                "fun": "{",
                                                                "args": [
                                                                  {
                                                                    "type": "name",
                                                                    "value": "value"
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "type": "call",
                                                        "fun": "{",
                                                        "args": [
                                                          {
                                                            "type": "literal",
                                                            "value": null
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "type": "NULL",
                                                "value": []
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "as.data.frame",
                                    "args": {
                                      "1": {
                                        "type": "call",
                                        "fun": "t",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "row_data"
                                          }
                                        ]
                                      },
                                      "stringsAsFactors": {
                                        "type": "literal",
                                        "value": false
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "NULL",
                                "value": []
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "numeric_cols"
                  },
                  {
                    "type": "call",
                    "fun": "c",
                    "args": [
                      {
                        "type": "literal",
                        "value": "CL_pop"
                      },
                      {
                        "type": "literal",
                        "value": "V_pop"
                      },
                      {
                        "type": "literal",
                        "value": "Q_pop"
                      },
                      {
                        "type": "literal",
                        "value": "V2_pop"
                      },
                      {
                        "type": "literal",
                        "value": "V3_pop"
                      },
                      {
                        "type": "literal",
                        "value": "omega_CL"
                      },
                      {
                        "type": "literal",
                        "value": "omega_V"
                      },
                      {
                        "type": "literal",
                        "value": "omega_Q"
                      },
                      {
                        "type": "literal",
                        "value": "sigma_add"
                      },
                      {
                        "type": "literal",
                        "value": "sigma_prop"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "for",
                "args": [
                  {
                    "type": "name",
                    "value": "col"
                  },
                  {
                    "type": "name",
                    "value": "numeric_cols"
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "if",
                        "args": [
                          {
                            "type": "call",
                            "fun": "%in%",
                            "args": [
                              {
                                "type": "name",
                                "value": "col"
                              },
                              {
                                "type": "call",
                                "fun": "names",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "prior_df"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "[[",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "prior_df"
                                      },
                                      {
                                        "type": "name",
                                        "value": "col"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "as.numeric",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "[[",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "prior_df"
                                          },
                                          {
                                            "type": "name",
                                            "value": "col"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "name",
                    "value": "prior_df"
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "validate_prior_structure"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ""
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "required_fields"
                  },
                  {
                    "type": "call",
                    "fun": "c",
                    "args": [
                      {
                        "type": "literal",
                        "value": "drug_name"
                      },
                      {
                        "type": "literal",
                        "value": "model_type"
                      },
                      {
                        "type": "literal",
                        "value": "population"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "required_params"
                  },
                  {
                    "type": "call",
                    "fun": "c",
                    "args": [
                      {
                        "type": "literal",
                        "value": "CL_pop"
                      },
                      {
                        "type": "literal",
                        "value": "V_pop"
                      },
                      {
                        "type": "literal",
                        "value": "omega_CL"
                      },
                      {
                        "type": "literal",
                        "value": "omega_V"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "&&",
                    "args": [
                      {
                        "type": "call",
                        "fun": "is.list",
                        "args": [
                          {
                            "type": "name",
                            "value": "prior_data"
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "!",
                        "args": [
                          {
                            "type": "call",
                            "fun": "is.data.frame",
                            "args": [
                              {
                                "type": "name",
                                "value": "prior_data"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "missing_fields"
                          },
                          {
                            "type": "call",
                            "fun": "setdiff",
                            "args": [
                              {
                                "type": "name",
                                "value": "required_fields"
                              },
                              {
                                "type": "call",
                                "fun": "names",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "prior_data"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "if",
                        "args": [
                          {
                            "type": "call",
                            "fun": ">",
                            "args": [
                              {
                                "type": "call",
                                "fun": "length",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "missing_fields"
                                  }
                                ]
                              },
                              {
                                "type": "literal",
                                "value": 0
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "warning",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "paste",
                                    "args": [
                                      {
                                        "type": "literal",
                                        "value": "Fehlende Felder:"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "paste",
                                        "args": {
                                          "1": {
                                            "type": "name",
                                            "value": "missing_fields"
                                          },
                                          "collapse": {
                                            "type": "literal",
                                            "value": ", "
                                          }
                                        }
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "if",
                        "args": [
                          {
                            "type": "call",
                            "fun": "%in%",
                            "args": [
                              {
                                "type": "literal",
                                "value": "parameters"
                              },
                              {
                                "type": "call",
                                "fun": "names",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "prior_data"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "missing_params"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "setdiff",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "required_params"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "names",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "$",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "prior_data"
                                              },
                                              {
                                                "type": "name",
                                                "value": "parameters"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "if",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": ">",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "length",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "missing_params"
                                          }
                                        ]
                                      },
                                      {
                                        "type": "literal",
                                        "value": 0
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "warning",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "paste",
                                            "args": [
                                              {
                                                "type": "literal",
                                                "value": "Fehlende Parameter:"
                                              },
                                              {
                                                "type": "call",
                                                "fun": "paste",
                                                "args": {
                                                  "1": {
                                                    "type": "name",
                                                    "value": "missing_params"
                                                  },
                                                  "collapse": {
                                                    "type": "literal",
                                                    "value": ", "
                                                  }
                                                }
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "<-",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "default_values"
                                          },
                                          {
                                            "type": "call",
                                            "fun": "list",
                                            "args": {
                                              "CL_pop": {
                                                "type": "literal",
                                                "value": 5
                                              },
                                              "V_pop": {
                                                "type": "literal",
                                                "value": 30
                                              },
                                              "omega_CL": {
                                                "type": "literal",
                                                "value": 0.3
                                              },
                                              "omega_V": {
                                                "type": "literal",
                                                "value": 0.3
                                              }
                                            }
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "for",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "param"
                                          },
                                          {
                                            "type": "name",
                                            "value": "missing_params"
                                          },
                                          {
                                            "type": "call",
                                            "fun": "{",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "<-",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "[[",
                                                    "args": [
                                                      {
                                                        "type": "call",
                                                        "fun": "$",
                                                        "args": [
                                                          {
                                                            "type": "name",
                                                            "value": "prior_data"
                                                          },
                                                          {
                                                            "type": "name",
                                                            "value": "parameters"
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "type": "name",
                                                        "value": "param"
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "[[",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "default_values"
                                                      },
                                                      {
                                                        "type": "name",
                                                        "value": "param"
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "if",
                        "args": [
                          {
                            "type": "call",
                            "fun": "%in%",
                            "args": [
                              {
                                "type": "literal",
                                "value": "covariates"
                              },
                              {
                                "type": "call",
                                "fun": "names",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "prior_data"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "$",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "prior_data"
                                      },
                                      {
                                        "type": "name",
                                        "value": "covariates"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "validate_covariates_vec",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "$",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "prior_data"
                                          },
                                          {
                                            "type": "name",
                                            "value": "covariates"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "name",
                    "value": "prior_data"
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "validate_covariates_vec"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ""
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "is.null",
                    "args": [
                      {
                        "type": "name",
                        "value": "covariates"
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "return",
                    "args": [
                      {
                        "type": "call",
                        "fun": "list",
                        "args": []
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "standard_covariates"
                  },
                  {
                    "type": "call",
                    "fun": "c",
                    "args": [
                      {
                        "type": "literal",
                        "value": "weight"
                      },
                      {
                        "type": "literal",
                        "value": "age"
                      },
                      {
                        "type": "literal",
                        "value": "creatinine"
                      },
                      {
                        "type": "literal",
                        "value": "sex"
                      },
                      {
                        "type": "literal",
                        "value": "height"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "validated"
                  },
                  {
                    "type": "call",
                    "fun": "lapply",
                    "args": [
                      {
                        "type": "name",
                        "value": "standard_covariates"
                      },
                      {
                        "type": "call",
                        "fun": "function",
                        "args": [
                          {
                            "type": "pairlist",
                            "value": ""
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "if",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "%in%",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "cov"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "names",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "covariates"
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "<-",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "cov_data"
                                          },
                                          {
                                            "type": "call",
                                            "fun": "[[",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "covariates"
                                              },
                                              {
                                                "type": "name",
                                                "value": "cov"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "if",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "!",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "is.list",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "cov_data"
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "{",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "<-",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "cov_data"
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "list",
                                                    "args": {
                                                      "effect": {
                                                        "type": "name",
                                                        "value": "cov_data"
                                                      },
                                                      "reference": {
                                                        "type": "literal",
                                                        "value": null
                                                      }
                                                    }
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "if",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "!",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "%in%",
                                                "args": [
                                                  {
                                                    "type": "literal",
                                                    "value": "effect"
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "names",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "cov_data"
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "{",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "<-",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "$",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "cov_data"
                                                      },
                                                      {
                                                        "type": "name",
                                                        "value": "effect"
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "type": "literal",
                                                    "value": 0
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "if",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "!",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "%in%",
                                                "args": [
                                                  {
                                                    "type": "literal",
                                                    "value": "reference"
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "names",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "cov_data"
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "{",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "<-",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "$",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "cov_data"
                                                      },
                                                      {
                                                        "type": "name",
                                                        "value": "reference"
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "switch",
                                                    "args": {
                                                      "1": {
                                                        "type": "name",
                                                        "value": "cov"
                                                      },
                                                      "weight": {
                                                        "type": "literal",
                                                        "value": 70
                                                      },
                                                      "age": {
                                                        "type": "literal",
                                                        "value": 40
                                                      },
                                                      "creatinine": {
                                                        "type": "literal",
                                                        "value": 1
                                                      },
                                                      "sex": {
                                                        "type": "literal",
                                                        "value": "male"
                                                      },
                                                      "height": {
                                                        "type": "literal",
                                                        "value": 170
                                                      }
                                                    }
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "return",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "cov_data"
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "return",
                                        "args": [
                                          {
                                            "type": "NULL",
                                            "value": []
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "NULL",
                            "value": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "call",
                    "fun": "names",
                    "args": [
                      {
                        "type": "name",
                        "value": "validated"
                      }
                    ]
                  },
                  {
                    "type": "name",
                    "value": "standard_covariates"
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "validated"
                  },
                  {
                    "type": "call",
                    "fun": "[",
                    "args": [
                      {
                        "type": "name",
                        "value": "validated"
                      },
                      {
                        "type": "call",
                        "fun": "!",
                        "args": [
                          {
                            "type": "call",
                            "fun": "sapply",
                            "args": [
                              {
                                "type": "name",
                                "value": "validated"
                              },
                              {
                                "type": "name",
                                "value": "is.null"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "name",
                    "value": "validated"
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "search_priors"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", ""]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "matches"
                  },
                  {
                    "type": "call",
                    "fun": "rep",
                    "args": [
                      {
                        "type": "literal",
                        "value": true
                      },
                      {
                        "type": "call",
                        "fun": "nrow",
                        "args": [
                          {
                            "type": "name",
                            "value": "prior_db"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "for",
                "args": [
                  {
                    "type": "name",
                    "value": "field"
                  },
                  {
                    "type": "call",
                    "fun": "names",
                    "args": [
                      {
                        "type": "name",
                        "value": "criteria"
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "if",
                        "args": [
                          {
                            "type": "call",
                            "fun": "%in%",
                            "args": [
                              {
                                "type": "name",
                                "value": "field"
                              },
                              {
                                "type": "call",
                                "fun": "names",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "prior_db"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "value"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "[[",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "criteria"
                                      },
                                      {
                                        "type": "name",
                                        "value": "field"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "if",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "&&",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "is.numeric",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "value"
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "is.numeric",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "[[",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "prior_db"
                                              },
                                              {
                                                "type": "name",
                                                "value": "field"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "if",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "==",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "length",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "value"
                                                  }
                                                ]
                                              },
                                              {
                                                "type": "literal",
                                                "value": 2
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "{",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "<-",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "matches"
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "&",
                                                    "args": [
                                                      {
                                                        "type": "call",
                                                        "fun": "&",
                                                        "args": [
                                                          {
                                                            "type": "name",
                                                            "value": "matches"
                                                          },
                                                          {
                                                            "type": "call",
                                                            "fun": ">=",
                                                            "args": [
                                                              {
                                                                "type": "call",
                                                                "fun": "[[",
                                                                "args": [
                                                                  {
                                                                    "type": "name",
                                                                    "value": "prior_db"
                                                                  },
                                                                  {
                                                                    "type": "name",
                                                                    "value": "field"
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "type": "call",
                                                                "fun": "[",
                                                                "args": [
                                                                  {
                                                                    "type": "name",
                                                                    "value": "value"
                                                                  },
                                                                  {
                                                                    "type": "literal",
                                                                    "value": 1
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "type": "call",
                                                        "fun": "<=",
                                                        "args": [
                                                          {
                                                            "type": "call",
                                                            "fun": "[[",
                                                            "args": [
                                                              {
                                                                "type": "name",
                                                                "value": "prior_db"
                                                              },
                                                              {
                                                                "type": "name",
                                                                "value": "field"
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "type": "call",
                                                            "fun": "[",
                                                            "args": [
                                                              {
                                                                "type": "name",
                                                                "value": "value"
                                                              },
                                                              {
                                                                "type": "literal",
                                                                "value": 2
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "{",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "<-",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "matches"
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "&",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "matches"
                                                      },
                                                      {
                                                        "type": "call",
                                                        "fun": "<",
                                                        "args": [
                                                          {
                                                            "type": "call",
                                                            "fun": "abs",
                                                            "args": [
                                                              {
                                                                "type": "call",
                                                                "fun": "-",
                                                                "args": [
                                                                  {
                                                                    "type": "call",
                                                                    "fun": "[[",
                                                                    "args": [
                                                                      {
                                                                        "type": "name",
                                                                        "value": "prior_db"
                                                                      },
                                                                      {
                                                                        "type": "name",
                                                                        "value": "field"
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "type": "name",
                                                                    "value": "value"
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "type": "literal",
                                                            "value": 0.01
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "if",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "is.character",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "value"
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "{",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "<-",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "pattern"
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "paste0",
                                                    "args": [
                                                      {
                                                        "type": "literal",
                                                        "value": ".*"
                                                      },
                                                      {
                                                        "type": "name",
                                                        "value": "value"
                                                      },
                                                      {
                                                        "type": "literal",
                                                        "value": ".*"
                                                      }
                                                    ]
                                                  }
                                                ]
                                              },
                                              {
                                                "type": "call",
                                                "fun": "<-",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "matches"
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "&",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "matches"
                                                      },
                                                      {
                                                        "type": "call",
                                                        "fun": "grepl",
                                                        "args": {
                                                          "1": {
                                                            "type": "name",
                                                            "value": "pattern"
                                                          },
                                                          "2": {
                                                            "type": "call",
                                                            "fun": "[[",
                                                            "args": [
                                                              {
                                                                "type": "name",
                                                                "value": "prior_db"
                                                              },
                                                              {
                                                                "type": "name",
                                                                "value": "field"
                                                              }
                                                            ]
                                                          },
                                                          "ignore.case": {
                                                            "type": "literal",
                                                            "value": true
                                                          }
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "{",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "<-",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "matches"
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "&",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "matches"
                                                      },
                                                      {
                                                        "type": "call",
                                                        "fun": "==",
                                                        "args": [
                                                          {
                                                            "type": "call",
                                                            "fun": "[[",
                                                            "args": [
                                                              {
                                                                "type": "name",
                                                                "value": "prior_db"
                                                              },
                                                              {
                                                                "type": "name",
                                                                "value": "field"
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "type": "name",
                                                            "value": "value"
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "call",
                    "fun": "[",
                    "args": [
                      {
                        "type": "name",
                        "value": "prior_db"
                      },
                      {
                        "type": "name",
                        "value": "matches"
                      },
                      {
                        "type": "name",
                        "value": ""
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "batch_update_priors"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", ""]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "updated_priors"
                  },
                  {
                    "type": "call",
                    "fun": "mapply",
                    "args": {
                      "1": {
                        "type": "call",
                        "fun": "function",
                        "args": [
                          {
                            "type": "pairlist",
                            "value": ["", ""]
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "if",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "is.null",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "update"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "return",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "prior"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "update_recursive"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "function",
                                    "args": [
                                      {
                                        "type": "pairlist",
                                        "value": ["", ""]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "{",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "for",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "key"
                                              },
                                              {
                                                "type": "call",
                                                "fun": "names",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "new"
                                                  }
                                                ]
                                              },
                                              {
                                                "type": "call",
                                                "fun": "{",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "if",
                                                    "args": [
                                                      {
                                                        "type": "call",
                                                        "fun": "&&",
                                                        "args": [
                                                          {
                                                            "type": "call",
                                                            "fun": "&&",
                                                            "args": [
                                                              {
                                                                "type": "call",
                                                                "fun": "%in%",
                                                                "args": [
                                                                  {
                                                                    "type": "name",
                                                                    "value": "key"
                                                                  },
                                                                  {
                                                                    "type": "call",
                                                                    "fun": "names",
                                                                    "args": [
                                                                      {
                                                                        "type": "name",
                                                                        "value": "original"
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "type": "call",
                                                                "fun": "is.list",
                                                                "args": [
                                                                  {
                                                                    "type": "call",
                                                                    "fun": "[[",
                                                                    "args": [
                                                                      {
                                                                        "type": "name",
                                                                        "value": "original"
                                                                      },
                                                                      {
                                                                        "type": "name",
                                                                        "value": "key"
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "type": "call",
                                                            "fun": "is.list",
                                                            "args": [
                                                              {
                                                                "type": "call",
                                                                "fun": "[[",
                                                                "args": [
                                                                  {
                                                                    "type": "name",
                                                                    "value": "new"
                                                                  },
                                                                  {
                                                                    "type": "name",
                                                                    "value": "key"
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "type": "call",
                                                        "fun": "{",
                                                        "args": [
                                                          {
                                                            "type": "call",
                                                            "fun": "<-",
                                                            "args": [
                                                              {
                                                                "type": "call",
                                                                "fun": "[[",
                                                                "args": [
                                                                  {
                                                                    "type": "name",
                                                                    "value": "original"
                                                                  },
                                                                  {
                                                                    "type": "name",
                                                                    "value": "key"
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "type": "call",
                                                                "fun": "update_recursive",
                                                                "args": [
                                                                  {
                                                                    "type": "call",
                                                                    "fun": "[[",
                                                                    "args": [
                                                                      {
                                                                        "type": "name",
                                                                        "value": "original"
                                                                      },
                                                                      {
                                                                        "type": "name",
                                                                        "value": "key"
                                                                      }
                                                                    ]
                                                                  },
                                                                  {
                                                                    "type": "call",
                                                                    "fun": "[[",
                                                                    "args": [
                                                                      {
                                                                        "type": "name",
                                                                        "value": "new"
                                                                      },
                                                                      {
                                                                        "type": "name",
                                                                        "value": "key"
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "type": "call",
                                                        "fun": "{",
                                                        "args": [
                                                          {
                                                            "type": "call",
                                                            "fun": "<-",
                                                            "args": [
                                                              {
                                                                "type": "call",
                                                                "fun": "[[",
                                                                "args": [
                                                                  {
                                                                    "type": "name",
                                                                    "value": "original"
                                                                  },
                                                                  {
                                                                    "type": "name",
                                                                    "value": "key"
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "type": "call",
                                                                "fun": "[[",
                                                                "args": [
                                                                  {
                                                                    "type": "name",
                                                                    "value": "new"
                                                                  },
                                                                  {
                                                                    "type": "name",
                                                                    "value": "key"
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "return",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "original"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "NULL",
                                        "value": []
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "return",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "update_recursive",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "prior"
                                      },
                                      {
                                        "type": "name",
                                        "value": "update"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "NULL",
                            "value": []
                          }
                        ]
                      },
                      "2": {
                        "type": "name",
                        "value": "prior_list"
                      },
                      "3": {
                        "type": "name",
                        "value": "updates"
                      },
                      "SIMPLIFY": {
                        "type": "literal",
                        "value": false
                      }
                    }
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "name",
                    "value": "updated_priors"
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "interpolate_priors"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", ""]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "ref_chars"
                  },
                  {
                    "type": "call",
                    "fun": "do.call",
                    "args": [
                      {
                        "type": "name",
                        "value": "rbind"
                      },
                      {
                        "type": "call",
                        "fun": "lapply",
                        "args": [
                          {
                            "type": "name",
                            "value": "reference_priors"
                          },
                          {
                            "type": "call",
                            "fun": "function",
                            "args": [
                              {
                                "type": "pairlist",
                                "value": ""
                              },
                              {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "c",
                                    "args": {
                                      "weight": {
                                        "type": "call",
                                        "fun": "$",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "$",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "p"
                                              },
                                              {
                                                "type": "name",
                                                "value": "population"
                                              }
                                            ]
                                          },
                                          {
                                            "type": "name",
                                            "value": "weight"
                                          }
                                        ]
                                      },
                                      "age": {
                                        "type": "call",
                                        "fun": "$",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "$",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "p"
                                              },
                                              {
                                                "type": "name",
                                                "value": "population"
                                              }
                                            ]
                                          },
                                          {
                                            "type": "name",
                                            "value": "age"
                                          }
                                        ]
                                      },
                                      "creatinine": {
                                        "type": "call",
                                        "fun": "$",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "$",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "p"
                                              },
                                              {
                                                "type": "name",
                                                "value": "population"
                                              }
                                            ]
                                          },
                                          {
                                            "type": "name",
                                            "value": "creatinine"
                                          }
                                        ]
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "NULL",
                                "value": []
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "distances"
                  },
                  {
                    "type": "call",
                    "fun": "apply",
                    "args": [
                      {
                        "type": "name",
                        "value": "ref_chars"
                      },
                      {
                        "type": "literal",
                        "value": 1
                      },
                      {
                        "type": "call",
                        "fun": "function",
                        "args": [
                          {
                            "type": "pairlist",
                            "value": ""
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "sqrt",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "sum",
                                    "args": {
                                      "1": {
                                        "type": "call",
                                        "fun": "^",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "(",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "-",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "ref"
                                                  },
                                                  {
                                                    "type": "name",
                                                    "value": "target_characteristics"
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "type": "literal",
                                            "value": 2
                                          }
                                        ]
                                      },
                                      "na.rm": {
                                        "type": "literal",
                                        "value": true
                                      }
                                    }
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "NULL",
                            "value": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "weights"
                  },
                  {
                    "type": "call",
                    "fun": "/",
                    "args": [
                      {
                        "type": "literal",
                        "value": 1
                      },
                      {
                        "type": "call",
                        "fun": "(",
                        "args": [
                          {
                            "type": "call",
                            "fun": "+",
                            "args": [
                              {
                                "type": "name",
                                "value": "distances"
                              },
                              {
                                "type": "literal",
                                "value": 1e-06
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "weights"
                  },
                  {
                    "type": "call",
                    "fun": "/",
                    "args": [
                      {
                        "type": "name",
                        "value": "weights"
                      },
                      {
                        "type": "call",
                        "fun": "sum",
                        "args": [
                          {
                            "type": "name",
                            "value": "weights"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "interpolated"
                  },
                  {
                    "type": "call",
                    "fun": "list",
                    "args": []
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "all_params"
                  },
                  {
                    "type": "call",
                    "fun": "unique",
                    "args": [
                      {
                        "type": "call",
                        "fun": "unlist",
                        "args": [
                          {
                            "type": "call",
                            "fun": "lapply",
                            "args": [
                              {
                                "type": "name",
                                "value": "reference_priors"
                              },
                              {
                                "type": "call",
                                "fun": "function",
                                "args": [
                                  {
                                    "type": "pairlist",
                                    "value": ""
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "names",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "$",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "p"
                                              },
                                              {
                                                "type": "name",
                                                "value": "parameters"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "NULL",
                                    "value": []
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "for",
                "args": [
                  {
                    "type": "name",
                    "value": "param"
                  },
                  {
                    "type": "name",
                    "value": "all_params"
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "values"
                          },
                          {
                            "type": "call",
                            "fun": "sapply",
                            "args": [
                              {
                                "type": "name",
                                "value": "reference_priors"
                              },
                              {
                                "type": "call",
                                "fun": "function",
                                "args": [
                                  {
                                    "type": "pairlist",
                                    "value": ""
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "if",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "%in%",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "param"
                                              },
                                              {
                                                "type": "call",
                                                "fun": "names",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "$",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "p"
                                                      },
                                                      {
                                                        "type": "name",
                                                        "value": "parameters"
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "{",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "[[",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "$",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "p"
                                                      },
                                                      {
                                                        "type": "name",
                                                        "value": "parameters"
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "type": "name",
                                                    "value": "param"
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "{",
                                            "args": [
                                              {
                                                "type": "literal",
                                                "value": null
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "NULL",
                                    "value": []
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "valid_idx"
                          },
                          {
                            "type": "call",
                            "fun": "!",
                            "args": [
                              {
                                "type": "call",
                                "fun": "is.na",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "values"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "if",
                        "args": [
                          {
                            "type": "call",
                            "fun": "any",
                            "args": [
                              {
                                "type": "name",
                                "value": "valid_idx"
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "[[",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "interpolated"
                                      },
                                      {
                                        "type": "name",
                                        "value": "param"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "/",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "sum",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "*",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "[",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "values"
                                                  },
                                                  {
                                                    "type": "name",
                                                    "value": "valid_idx"
                                                  }
                                                ]
                                              },
                                              {
                                                "type": "call",
                                                "fun": "[",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "weights"
                                                  },
                                                  {
                                                    "type": "name",
                                                    "value": "valid_idx"
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "sum",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "[",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "weights"
                                              },
                                              {
                                                "type": "name",
                                                "value": "valid_idx"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "call",
                    "fun": "list",
                    "args": {
                      "parameters": {
                        "type": "name",
                        "value": "interpolated"
                      },
                      "population": {
                        "type": "name",
                        "value": "target_characteristics"
                      },
                      "method": {
                        "type": "literal",
                        "value": "interpolated"
                      }
                    }
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "aggregate_priors"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", "mean", "NULL"]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "all_params"
                  },
                  {
                    "type": "call",
                    "fun": "do.call",
                    "args": [
                      {
                        "type": "name",
                        "value": "rbind"
                      },
                      {
                        "type": "call",
                        "fun": "lapply",
                        "args": [
                          {
                            "type": "name",
                            "value": "prior_sources"
                          },
                          {
                            "type": "call",
                            "fun": "function",
                            "args": [
                              {
                                "type": "pairlist",
                                "value": ""
                              },
                              {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "if",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "%in%",
                                        "args": [
                                          {
                                            "type": "literal",
                                            "value": "parameters"
                                          },
                                          {
                                            "type": "call",
                                            "fun": "names",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "source"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "{",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "as.data.frame",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "$",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "source"
                                                  },
                                                  {
                                                    "type": "name",
                                                    "value": "parameters"
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "{",
                                        "args": [
                                          {
                                            "type": "NULL",
                                            "value": []
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "NULL",
                                "value": []
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "all_params"
                  },
                  {
                    "type": "call",
                    "fun": "[",
                    "args": [
                      {
                        "type": "name",
                        "value": "all_params"
                      },
                      {
                        "type": "call",
                        "fun": "!",
                        "args": [
                          {
                            "type": "call",
                            "fun": "sapply",
                            "args": [
                              {
                                "type": "name",
                                "value": "all_params"
                              },
                              {
                                "type": "name",
                                "value": "is.null"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "name",
                        "value": ""
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "aggregated"
                  },
                  {
                    "type": "call",
                    "fun": "switch",
                    "args": {
                      "1": {
                        "type": "name",
                        "value": "aggregation_method"
                      },
                      "mean": {
                        "type": "call",
                        "fun": "colMeans",
                        "args": {
                          "1": {
                            "type": "name",
                            "value": "all_params"
                          },
                          "na.rm": {
                            "type": "literal",
                            "value": true
                          }
                        }
                      },
                      "median": {
                        "type": "call",
                        "fun": "apply",
                        "args": {
                          "1": {
                            "type": "name",
                            "value": "all_params"
                          },
                          "2": {
                            "type": "literal",
                            "value": 2
                          },
                          "3": {
                            "type": "name",
                            "value": "median"
                          },
                          "na.rm": {
                            "type": "literal",
                            "value": true
                          }
                        }
                      },
                      "weighted": {
                        "type": "call",
                        "fun": "{",
                        "args": [
                          {
                            "type": "call",
                            "fun": "if",
                            "args": [
                              {
                                "type": "call",
                                "fun": "is.null",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "weights"
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "<-",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "weights"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "rep",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "/",
                                            "args": [
                                              {
                                                "type": "literal",
                                                "value": 1
                                              },
                                              {
                                                "type": "call",
                                                "fun": "nrow",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "all_params"
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "nrow",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "all_params"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "/",
                            "args": [
                              {
                                "type": "call",
                                "fun": "colSums",
                                "args": {
                                  "1": {
                                    "type": "call",
                                    "fun": "*",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "all_params"
                                      },
                                      {
                                        "type": "name",
                                        "value": "weights"
                                      }
                                    ]
                                  },
                                  "na.rm": {
                                    "type": "literal",
                                    "value": true
                                  }
                                }
                              },
                              {
                                "type": "call",
                                "fun": "sum",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "weights"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      "geometric": {
                        "type": "call",
                        "fun": "exp",
                        "args": [
                          {
                            "type": "call",
                            "fun": "colMeans",
                            "args": {
                              "1": {
                                "type": "call",
                                "fun": "log",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "all_params"
                                  }
                                ]
                              },
                              "na.rm": {
                                "type": "literal",
                                "value": true
                              }
                            }
                          }
                        ]
                      },
                      "6": {
                        "type": "call",
                        "fun": "stop",
                        "args": [
                          {
                            "type": "literal",
                            "value": "Unbekannte Aggregationsmethode: "
                          },
                          {
                            "type": "name",
                            "value": "aggregation_method"
                          }
                        ]
                      }
                    }
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "call",
                    "fun": "list",
                    "args": {
                      "parameters": {
                        "type": "call",
                        "fun": "as.list",
                        "args": [
                          {
                            "type": "name",
                            "value": "aggregated"
                          }
                        ]
                      },
                      "method": {
                        "type": "call",
                        "fun": "paste",
                        "args": [
                          {
                            "type": "literal",
                            "value": "aggregated"
                          },
                          {
                            "type": "name",
                            "value": "aggregation_method"
                          }
                        ]
                      },
                      "n_sources": {
                        "type": "call",
                        "fun": "nrow",
                        "args": [
                          {
                            "type": "name",
                            "value": "all_params"
                          }
                        ]
                      }
                    }
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "manage_prior_cache"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["info", "NULL", "cache/priors"]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "!",
                    "args": [
                      {
                        "type": "call",
                        "fun": "dir.exists",
                        "args": [
                          {
                            "type": "name",
                            "value": "cache_dir"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "dir.create",
                        "args": {
                          "1": {
                            "type": "name",
                            "value": "cache_dir"
                          },
                          "recursive": {
                            "type": "literal",
                            "value": true
                          }
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "result"
                  },
                  {
                    "type": "call",
                    "fun": "switch",
                    "args": {
                      "1": {
                        "type": "name",
                        "value": "action"
                      },
                      "save": {
                        "type": "call",
                        "fun": "{",
                        "args": [
                          {
                            "type": "call",
                            "fun": "if",
                            "args": [
                              {
                                "type": "call",
                                "fun": "!",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "is.null",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "data"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "<-",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "cache_key"
                                      },
                                      {
                                        "type": "call",
                                        "fun": ["::", "digest", "digest"],
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "data"
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "<-",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "cache_file"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "file.path",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "cache_dir"
                                          },
                                          {
                                            "type": "call",
                                            "fun": "paste0",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "cache_key"
                                              },
                                              {
                                                "type": "literal",
                                                "value": ".rds"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "saveRDS",
                                    "args": {
                                      "1": {
                                        "type": "name",
                                        "value": "data"
                                      },
                                      "2": {
                                        "type": "name",
                                        "value": "cache_file"
                                      },
                                      "compress": {
                                        "type": "literal",
                                        "value": "xz"
                                      }
                                    }
                                  },
                                  {
                                    "type": "call",
                                    "fun": "<-",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "meta_file"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "file.path",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "cache_dir"
                                          },
                                          {
                                            "type": "literal",
                                            "value": "metadata.rds"
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "if",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "file.exists",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "meta_file"
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "{",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "<-",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "metadata"
                                              },
                                              {
                                                "type": "call",
                                                "fun": "readRDS",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "meta_file"
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "{",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "<-",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "metadata"
                                              },
                                              {
                                                "type": "call",
                                                "fun": "list",
                                                "args": []
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "<-",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "[[",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "metadata"
                                          },
                                          {
                                            "type": "name",
                                            "value": "cache_key"
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "list",
                                        "args": {
                                          "timestamp": {
                                            "type": "call",
                                            "fun": "Sys.time",
                                            "args": []
                                          },
                                          "size": {
                                            "type": "call",
                                            "fun": "file.size",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "cache_file"
                                              }
                                            ]
                                          }
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "saveRDS",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "metadata"
                                      },
                                      {
                                        "type": "name",
                                        "value": "meta_file"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "return",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "cache_key"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      "load": {
                        "type": "call",
                        "fun": "{",
                        "args": [
                          {
                            "type": "call",
                            "fun": "if",
                            "args": [
                              {
                                "type": "call",
                                "fun": "!",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "is.null",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "data"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "<-",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "cache_file"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "file.path",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "cache_dir"
                                          },
                                          {
                                            "type": "call",
                                            "fun": "paste0",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "data"
                                              },
                                              {
                                                "type": "literal",
                                                "value": ".rds"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "if",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "file.exists",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "cache_file"
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "{",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "return",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "readRDS",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "cache_file"
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "{",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "return",
                                            "args": [
                                              {
                                                "type": "NULL",
                                                "value": []
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      "clear": {
                        "type": "call",
                        "fun": "{",
                        "args": [
                          {
                            "type": "call",
                            "fun": "<-",
                            "args": [
                              {
                                "type": "name",
                                "value": "cache_files"
                              },
                              {
                                "type": "call",
                                "fun": "list.files",
                                "args": {
                                  "1": {
                                    "type": "name",
                                    "value": "cache_dir"
                                  },
                                  "pattern": {
                                    "type": "literal",
                                    "value": "\\.rds$"
                                  },
                                  "full.names": {
                                    "type": "literal",
                                    "value": true
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "file.remove",
                            "args": [
                              {
                                "type": "name",
                                "value": "cache_files"
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "return",
                            "args": [
                              {
                                "type": "literal",
                                "value": true
                              }
                            ]
                          }
                        ]
                      },
                      "info": {
                        "type": "call",
                        "fun": "{",
                        "args": [
                          {
                            "type": "call",
                            "fun": "<-",
                            "args": [
                              {
                                "type": "name",
                                "value": "cache_files"
                              },
                              {
                                "type": "call",
                                "fun": "list.files",
                                "args": {
                                  "1": {
                                    "type": "name",
                                    "value": "cache_dir"
                                  },
                                  "pattern": {
                                    "type": "literal",
                                    "value": "\\.rds$"
                                  },
                                  "full.names": {
                                    "type": "literal",
                                    "value": true
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "if",
                            "args": [
                              {
                                "type": "call",
                                "fun": ">",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "length",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "cache_files"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "literal",
                                    "value": 0
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "<-",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "total_size"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "sum",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "file.size",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "cache_files"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "<-",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "meta_file"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "file.path",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "cache_dir"
                                          },
                                          {
                                            "type": "literal",
                                            "value": "metadata.rds"
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "if",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "file.exists",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "meta_file"
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "{",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "<-",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "metadata"
                                              },
                                              {
                                                "type": "call",
                                                "fun": "readRDS",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "meta_file"
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "<-",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "oldest"
                                              },
                                              {
                                                "type": "call",
                                                "fun": "min",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "sapply",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "metadata"
                                                      },
                                                      {
                                                        "type": "call",
                                                        "fun": "function",
                                                        "args": [
                                                          {
                                                            "type": "pairlist",
                                                            "value": ""
                                                          },
                                                          {
                                                            "type": "call",
                                                            "fun": "$",
                                                            "args": [
                                                              {
                                                                "type": "name",
                                                                "value": "m"
                                                              },
                                                              {
                                                                "type": "name",
                                                                "value": "timestamp"
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "type": "NULL",
                                                            "value": []
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "{",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "<-",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "oldest"
                                              },
                                              {
                                                "type": "literal",
                                                "value": null
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "return",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "list",
                                        "args": {
                                          "n_files": {
                                            "type": "call",
                                            "fun": "length",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "cache_files"
                                              }
                                            ]
                                          },
                                          "total_size_mb": {
                                            "type": "call",
                                            "fun": "/",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "total_size"
                                              },
                                              {
                                                "type": "call",
                                                "fun": "^",
                                                "args": [
                                                  {
                                                    "type": "literal",
                                                    "value": 1024
                                                  },
                                                  {
                                                    "type": "literal",
                                                    "value": 2
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          "oldest_entry": {
                                            "type": "name",
                                            "value": "oldest"
                                          }
                                        }
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "return",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "list",
                                        "args": {
                                          "n_files": {
                                            "type": "literal",
                                            "value": 0
                                          },
                                          "total_size_mb": {
                                            "type": "literal",
                                            "value": 0
                                          },
                                          "oldest_entry": {
                                            "type": "literal",
                                            "value": null
                                          }
                                        }
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    }
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "name",
                    "value": "result"
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "prior_db_vectorized"
      },
      {
        "type": "call",
        "fun": "list",
        "args": {
          "load": {
            "type": "name",
            "value": "load_priors"
          },
          "batch_process": {
            "type": "name",
            "value": "batch_process_prior_json"
          },
          "validate": {
            "type": "name",
            "value": "validate_prior_structure"
          },
          "search": {
            "type": "name",
            "value": "search_priors"
          },
          "update": {
            "type": "name",
            "value": "batch_update_priors"
          },
          "interpolate": {
            "type": "name",
            "value": "interpolate_priors"
          },
          "aggregate": {
            "type": "name",
            "value": "aggregate_priors"
          },
          "cache": {
            "type": "name",
            "value": "manage_prior_cache"
          }
        }
      }
    ]
  }
]

[
  {
    "type": "call",
    "fun": "library",
    "args": [
      {
        "type": "name",
        "value": "rjags"
      }
    ]
  },
  {
    "type": "call",
    "fun": "library",
    "args": [
      {
        "type": "name",
        "value": "coda"
      }
    ]
  },
  {
    "type": "call",
    "fun": "library",
    "args": [
      {
        "type": "name",
        "value": "dplyr"
      }
    ]
  },
  {
    "type": "call",
    "fun": "library",
    "args": [
      {
        "type": "name",
        "value": "tidyr"
      }
    ]
  },
  {
    "type": "call",
    "fun": "if",
    "args": [
      {
        "type": "call",
        "fun": "file.exists",
        "args": [
          {
            "type": "literal",
            "value": "R/safe_computation.R"
          }
        ]
      },
      {
        "type": "call",
        "fun": "{",
        "args": [
          {
            "type": "call",
            "fun": "source",
            "args": [
              {
                "type": "literal",
                "value": "safe_computation.R"
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "run_fit_jags"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", "", "", "", "NULL"]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "tryCatch",
                "args": {
                  "1": {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "validate_jags_inputs",
                        "args": [
                          {
                            "type": "name",
                            "value": "data"
                          },
                          {
                            "type": "name",
                            "value": "config"
                          }
                        ]
                      }
                    ]
                  },
                  "error": {
                    "type": "call",
                    "fun": "function",
                    "args": [
                      {
                        "type": "pairlist",
                        "value": ""
                      },
                      {
                        "type": "call",
                        "fun": "{",
                        "args": [
                          {
                            "type": "call",
                            "fun": "stop",
                            "args": [
                              {
                                "type": "call",
                                "fun": "sprintf",
                                "args": [
                                  {
                                    "type": "literal",
                                    "value": "Input validation failed: %s"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "$",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "e"
                                      },
                                      {
                                        "type": "name",
                                        "value": "message"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "NULL",
                        "value": []
                      }
                    ]
                  }
                }
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "config"
                  },
                  {
                    "type": "call",
                    "fun": "set_default_jags_config",
                    "args": [
                      {
                        "type": "name",
                        "value": "config"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "jags_params"
                  },
                  {
                    "type": "call",
                    "fun": "list",
                    "args": {
                      "data": {
                        "type": "name",
                        "value": "data"
                      },
                      "model": {
                        "type": "name",
                        "value": "model"
                      },
                      "params": {
                        "type": "name",
                        "value": "params"
                      },
                      "n_chains": {
                        "type": "call",
                        "fun": "%||%",
                        "args": [
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "config"
                              },
                              {
                                "type": "name",
                                "value": "n_chains"
                              }
                            ]
                          },
                          {
                            "type": "literal",
                            "value": 3
                          }
                        ]
                      },
                      "n_burnin": {
                        "type": "call",
                        "fun": "%||%",
                        "args": [
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "config"
                              },
                              {
                                "type": "name",
                                "value": "n_burnin"
                              }
                            ]
                          },
                          {
                            "type": "literal",
                            "value": 1000
                          }
                        ]
                      },
                      "n_iter": {
                        "type": "call",
                        "fun": "%||%",
                        "args": [
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "config"
                              },
                              {
                                "type": "name",
                                "value": "n_iter"
                              }
                            ]
                          },
                          {
                            "type": "literal",
                            "value": 5000
                          }
                        ]
                      },
                      "thin": {
                        "type": "call",
                        "fun": "%||%",
                        "args": [
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "config"
                              },
                              {
                                "type": "name",
                                "value": "thin"
                              }
                            ]
                          },
                          {
                            "type": "literal",
                            "value": 1
                          }
                        ]
                      }
                    }
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "jags_computation"
                  },
                  {
                    "type": "call",
                    "fun": "function",
                    "args": [
                      {
                        "type": "pairlist",
                        "value": ""
                      },
                      {
                        "type": "call",
                        "fun": "{",
                        "args": [
                          {
                            "type": "call",
                            "fun": "<-",
                            "args": [
                              {
                                "type": "name",
                                "value": "jags_data"
                              },
                              {
                                "type": "call",
                                "fun": "prepare_jags_data",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "$",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "p"
                                      },
                                      {
                                        "type": "name",
                                        "value": "data"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "name",
                                    "value": "config"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "if",
                            "args": [
                              {
                                "type": "call",
                                "fun": "&&",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "is.character",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "$",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "p"
                                          },
                                          {
                                            "type": "name",
                                            "value": "model"
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "<",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "nchar",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "$",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "p"
                                              },
                                              {
                                                "type": "name",
                                                "value": "model"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "literal",
                                        "value": 100
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "<-",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "model_string"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "create_jags_model",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "$",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "p"
                                              },
                                              {
                                                "type": "name",
                                                "value": "model"
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "%||%",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "$",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "config"
                                                  },
                                                  {
                                                    "type": "name",
                                                    "value": "error_model"
                                                  }
                                                ]
                                              },
                                              {
                                                "type": "literal",
                                                "value": "additive"
                                              }
                                            ]
                                          },
                                          {
                                            "type": "name",
                                            "value": "jags_data"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "<-",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "model_string"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "$",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "p"
                                          },
                                          {
                                            "type": "name",
                                            "value": "model"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "if",
                            "args": [
                              {
                                "type": "call",
                                "fun": "!",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "is.null",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "progress_callback"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "progress_callback",
                                    "args": [
                                      {
                                        "type": "literal",
                                        "value": "Compiling JAGS model..."
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "<-",
                            "args": [
                              {
                                "type": "name",
                                "value": "tc"
                              },
                              {
                                "type": "NULL",
                                "value": []
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "<-",
                            "args": [
                              {
                                "type": "name",
                                "value": "tc_error"
                              },
                              {
                                "type": "NULL",
                                "value": []
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "<-",
                            "args": [
                              {
                                "type": "name",
                                "value": "model_compiled"
                              },
                              {
                                "type": "call",
                                "fun": "tryCatch",
                                "args": {
                                  "1": {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "<-",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "tc"
                                          },
                                          {
                                            "type": "call",
                                            "fun": "textConnection",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "model_string"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "on.exit",
                                        "args": {
                                          "1": {
                                            "type": "call",
                                            "fun": "{",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "if",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "!",
                                                    "args": [
                                                      {
                                                        "type": "call",
                                                        "fun": "is.null",
                                                        "args": [
                                                          {
                                                            "type": "name",
                                                            "value": "tc"
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "{",
                                                    "args": [
                                                      {
                                                        "type": "call",
                                                        "fun": "try",
                                                        "args": {
                                                          "1": {
                                                            "type": "call",
                                                            "fun": "close",
                                                            "args": [
                                                              {
                                                                "type": "name",
                                                                "value": "tc"
                                                              }
                                                            ]
                                                          },
                                                          "silent": {
                                                            "type": "literal",
                                                            "value": true
                                                          }
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          "add": {
                                            "type": "literal",
                                            "value": true
                                          }
                                        }
                                      },
                                      {
                                        "type": "call",
                                        "fun": "jags.model",
                                        "args": {
                                          "1": {
                                            "type": "name",
                                            "value": "tc"
                                          },
                                          "data": {
                                            "type": "name",
                                            "value": "jags_data"
                                          },
                                          "n.chains": {
                                            "type": "call",
                                            "fun": "$",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "p"
                                              },
                                              {
                                                "type": "name",
                                                "value": "n_chains"
                                              }
                                            ]
                                          },
                                          "quiet": {
                                            "type": "literal",
                                            "value": true
                                          }
                                        }
                                      }
                                    ]
                                  },
                                  "error": {
                                    "type": "call",
                                    "fun": "function",
                                    "args": [
                                      {
                                        "type": "pairlist",
                                        "value": ""
                                      },
                                      {
                                        "type": "call",
                                        "fun": "{",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "if",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "grepl",
                                                "args": {
                                                  "1": {
                                                    "type": "literal",
                                                    "value": "initial values"
                                                  },
                                                  "2": {
                                                    "type": "call",
                                                    "fun": "$",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "e"
                                                      },
                                                      {
                                                        "type": "name",
                                                        "value": "message"
                                                      }
                                                    ]
                                                  },
                                                  "ignore.case": {
                                                    "type": "literal",
                                                    "value": true
                                                  }
                                                }
                                              },
                                              {
                                                "type": "call",
                                                "fun": "{",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "<-",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "inits"
                                                      },
                                                      {
                                                        "type": "call",
                                                        "fun": "create_initial_values",
                                                        "args": [
                                                          {
                                                            "type": "name",
                                                            "value": "config"
                                                          },
                                                          {
                                                            "type": "name",
                                                            "value": "jags_data"
                                                          },
                                                          {
                                                            "type": "call",
                                                            "fun": "$",
                                                            "args": [
                                                              {
                                                                "type": "name",
                                                                "value": "p"
                                                              },
                                                              {
                                                                "type": "name",
                                                                "value": "data"
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "<-",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "tc_error"
                                                      },
                                                      {
                                                        "type": "call",
                                                        "fun": "textConnection",
                                                        "args": [
                                                          {
                                                            "type": "name",
                                                            "value": "model_string"
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "on.exit",
                                                    "args": {
                                                      "1": {
                                                        "type": "call",
                                                        "fun": "{",
                                                        "args": [
                                                          {
                                                            "type": "call",
                                                            "fun": "if",
                                                            "args": [
                                                              {
                                                                "type": "call",
                                                                "fun": "!",
                                                                "args": [
                                                                  {
                                                                    "type": "call",
                                                                    "fun": "is.null",
                                                                    "args": [
                                                                      {
                                                                        "type": "name",
                                                                        "value": "tc_error"
                                                                      }
                                                                    ]
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "type": "call",
                                                                "fun": "{",
                                                                "args": [
                                                                  {
                                                                    "type": "call",
                                                                    "fun": "try",
                                                                    "args": {
                                                                      "1": {
                                                                        "type": "call",
                                                                        "fun": "close",
                                                                        "args": [
                                                                          {
                                                                            "type": "name",
                                                                            "value": "tc_error"
                                                                          }
                                                                        ]
                                                                      },
                                                                      "silent": {
                                                                        "type": "literal",
                                                                        "value": true
                                                                      }
                                                                    }
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      "add": {
                                                        "type": "literal",
                                                        "value": true
                                                      }
                                                    }
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "<-",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "result"
                                                      },
                                                      {
                                                        "type": "call",
                                                        "fun": "jags.model",
                                                        "args": {
                                                          "1": {
                                                            "type": "name",
                                                            "value": "tc_error"
                                                          },
                                                          "data": {
                                                            "type": "name",
                                                            "value": "jags_data"
                                                          },
                                                          "inits": {
                                                            "type": "name",
                                                            "value": "inits"
                                                          },
                                                          "n.chains": {
                                                            "type": "call",
                                                            "fun": "$",
                                                            "args": [
                                                              {
                                                                "type": "name",
                                                                "value": "p"
                                                              },
                                                              {
                                                                "type": "name",
                                                                "value": "n_chains"
                                                              }
                                                            ]
                                                          },
                                                          "quiet": {
                                                            "type": "literal",
                                                            "value": true
                                                          }
                                                        }
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "try",
                                                    "args": {
                                                      "1": {
                                                        "type": "call",
                                                        "fun": "close",
                                                        "args": [
                                                          {
                                                            "type": "name",
                                                            "value": "tc_error"
                                                          }
                                                        ]
                                                      },
                                                      "silent": {
                                                        "type": "literal",
                                                        "value": true
                                                      }
                                                    }
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "<-",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "tc_error"
                                                      },
                                                      {
                                                        "type": "NULL",
                                                        "value": []
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "type": "name",
                                                    "value": "result"
                                                  }
                                                ]
                                              },
                                              {
                                                "type": "call",
                                                "fun": "{",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "stop",
                                                    "args": [
                                                      {
                                                        "type": "call",
                                                        "fun": "sprintf",
                                                        "args": [
                                                          {
                                                            "type": "literal",
                                                            "value": "Model compilation failed: %s"
                                                          },
                                                          {
                                                            "type": "call",
                                                            "fun": "$",
                                                            "args": [
                                                              {
                                                                "type": "name",
                                                                "value": "e"
                                                              },
                                                              {
                                                                "type": "name",
                                                                "value": "message"
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "NULL",
                                        "value": []
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "if",
                            "args": [
                              {
                                "type": "call",
                                "fun": "!",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "is.null",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "progress_callback"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "progress_callback",
                                    "args": [
                                      {
                                        "type": "literal",
                                        "value": "Running burn-in phase..."
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "tryCatch",
                            "args": {
                              "1": {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "update",
                                    "args": {
                                      "1": {
                                        "type": "name",
                                        "value": "model_compiled"
                                      },
                                      "n.iter": {
                                        "type": "call",
                                        "fun": "$",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "p"
                                          },
                                          {
                                            "type": "name",
                                            "value": "n_burnin"
                                          }
                                        ]
                                      },
                                      "progress.bar": {
                                        "type": "literal",
                                        "value": "none"
                                      }
                                    }
                                  }
                                ]
                              },
                              "error": {
                                "type": "call",
                                "fun": "function",
                                "args": [
                                  {
                                    "type": "pairlist",
                                    "value": ""
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "if",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "grepl",
                                            "args": {
                                              "1": {
                                                "type": "literal",
                                                "value": "memory|alloc"
                                              },
                                              "2": {
                                                "type": "call",
                                                "fun": "$",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "e"
                                                  },
                                                  {
                                                    "type": "name",
                                                    "value": "message"
                                                  }
                                                ]
                                              },
                                              "ignore.case": {
                                                "type": "literal",
                                                "value": true
                                              }
                                            }
                                          },
                                          {
                                            "type": "call",
                                            "fun": "{",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "warning",
                                                "args": [
                                                  {
                                                    "type": "literal",
                                                    "value": "Memory issue during burn-in, reducing iterations"
                                                  }
                                                ]
                                              },
                                              {
                                                "type": "call",
                                                "fun": "update",
                                                "args": {
                                                  "1": {
                                                    "type": "name",
                                                    "value": "model_compiled"
                                                  },
                                                  "n.iter": {
                                                    "type": "call",
                                                    "fun": "max",
                                                    "args": [
                                                      {
                                                        "type": "literal",
                                                        "value": 100
                                                      },
                                                      {
                                                        "type": "call",
                                                        "fun": "/",
                                                        "args": [
                                                          {
                                                            "type": "call",
                                                            "fun": "$",
                                                            "args": [
                                                              {
                                                                "type": "name",
                                                                "value": "p"
                                                              },
                                                              {
                                                                "type": "name",
                                                                "value": "n_burnin"
                                                              }
                                                            ]
                                                          },
                                                          {
                                                            "type": "literal",
                                                            "value": 10
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  "progress.bar": {
                                                    "type": "literal",
                                                    "value": "none"
                                                  }
                                                }
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "{",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "stop",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "sprintf",
                                                    "args": [
                                                      {
                                                        "type": "literal",
                                                        "value": "Burn-in failed: %s"
                                                      },
                                                      {
                                                        "type": "call",
                                                        "fun": "$",
                                                        "args": [
                                                          {
                                                            "type": "name",
                                                            "value": "e"
                                                          },
                                                          {
                                                            "type": "name",
                                                            "value": "message"
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "NULL",
                                    "value": []
                                  }
                                ]
                              }
                            }
                          },
                          {
                            "type": "call",
                            "fun": "if",
                            "args": [
                              {
                                "type": "call",
                                "fun": "!",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "is.null",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "progress_callback"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "progress_callback",
                                    "args": [
                                      {
                                        "type": "literal",
                                        "value": "Sampling from posterior..."
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "<-",
                            "args": [
                              {
                                "type": "name",
                                "value": "samples"
                              },
                              {
                                "type": "call",
                                "fun": "tryCatch",
                                "args": {
                                  "1": {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "coda.samples",
                                        "args": {
                                          "1": {
                                            "type": "name",
                                            "value": "model_compiled"
                                          },
                                          "variable.names": {
                                            "type": "call",
                                            "fun": "$",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "p"
                                              },
                                              {
                                                "type": "name",
                                                "value": "params"
                                              }
                                            ]
                                          },
                                          "n.iter": {
                                            "type": "call",
                                            "fun": "$",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "p"
                                              },
                                              {
                                                "type": "name",
                                                "value": "n_iter"
                                              }
                                            ]
                                          },
                                          "thin": {
                                            "type": "call",
                                            "fun": "$",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "p"
                                              },
                                              {
                                                "type": "name",
                                                "value": "thin"
                                              }
                                            ]
                                          },
                                          "progress.bar": {
                                            "type": "literal",
                                            "value": "none"
                                          }
                                        }
                                      }
                                    ]
                                  },
                                  "error": {
                                    "type": "call",
                                    "fun": "function",
                                    "args": [
                                      {
                                        "type": "pairlist",
                                        "value": ""
                                      },
                                      {
                                        "type": "call",
                                        "fun": "{",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "if",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "grepl",
                                                "args": {
                                                  "1": {
                                                    "type": "literal",
                                                    "value": "memory"
                                                  },
                                                  "2": {
                                                    "type": "call",
                                                    "fun": "$",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "e"
                                                      },
                                                      {
                                                        "type": "name",
                                                        "value": "message"
                                                      }
                                                    ]
                                                  },
                                                  "ignore.case": {
                                                    "type": "literal",
                                                    "value": true
                                                  }
                                                }
                                              },
                                              {
                                                "type": "call",
                                                "fun": "{",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "warning",
                                                    "args": [
                                                      {
                                                        "type": "literal",
                                                        "value": "Memory issue during sampling, reducing iterations"
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": "coda.samples",
                                                    "args": {
                                                      "1": {
                                                        "type": "name",
                                                        "value": "model_compiled"
                                                      },
                                                      "variable.names": {
                                                        "type": "call",
                                                        "fun": "$",
                                                        "args": [
                                                          {
                                                            "type": "name",
                                                            "value": "p"
                                                          },
                                                          {
                                                            "type": "name",
                                                            "value": "params"
                                                          }
                                                        ]
                                                      },
                                                      "n.iter": {
                                                        "type": "call",
                                                        "fun": "max",
                                                        "args": [
                                                          {
                                                            "type": "literal",
                                                            "value": 100
                                                          },
                                                          {
                                                            "type": "call",
                                                            "fun": "/",
                                                            "args": [
                                                              {
                                                                "type": "call",
                                                                "fun": "$",
                                                                "args": [
                                                                  {
                                                                    "type": "name",
                                                                    "value": "p"
                                                                  },
                                                                  {
                                                                    "type": "name",
                                                                    "value": "n_iter"
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "type": "literal",
                                                                "value": 10
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      "thin": {
                                                        "type": "call",
                                                        "fun": "max",
                                                        "args": [
                                                          {
                                                            "type": "literal",
                                                            "value": 1
                                                          },
                                                          {
                                                            "type": "call",
                                                            "fun": "*",
                                                            "args": [
                                                              {
                                                                "type": "call",
                                                                "fun": "$",
                                                                "args": [
                                                                  {
                                                                    "type": "name",
                                                                    "value": "p"
                                                                  },
                                                                  {
                                                                    "type": "name",
                                                                    "value": "thin"
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "type": "literal",
                                                                "value": 2
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      },
                                                      "progress.bar": {
                                                        "type": "literal",
                                                        "value": "none"
                                                      }
                                                    }
                                                  }
                                                ]
                                              },
                                              {
                                                "type": "call",
                                                "fun": "{",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "stop",
                                                    "args": [
                                                      {
                                                        "type": "call",
                                                        "fun": "sprintf",
                                                        "args": [
                                                          {
                                                            "type": "literal",
                                                            "value": "Sampling failed: %s"
                                                          },
                                                          {
                                                            "type": "call",
                                                            "fun": "$",
                                                            "args": [
                                                              {
                                                                "type": "name",
                                                                "value": "e"
                                                              },
                                                              {
                                                                "type": "name",
                                                                "value": "message"
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "NULL",
                                        "value": []
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "return",
                            "args": [
                              {
                                "type": "call",
                                "fun": "list",
                                "args": {
                                  "samples": {
                                    "type": "name",
                                    "value": "samples"
                                  },
                                  "model": {
                                    "type": "name",
                                    "value": "model_compiled"
                                  },
                                  "jags_data": {
                                    "type": "name",
                                    "value": "jags_data"
                                  }
                                }
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "NULL",
                        "value": []
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "exists",
                    "args": [
                      {
                        "type": "literal",
                        "value": "with_safe_computation"
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "result"
                          },
                          {
                            "type": "call",
                            "fun": "with_safe_computation",
                            "args": {
                              "1": {
                                "type": "name",
                                "value": "jags_computation"
                              },
                              "args": {
                                "type": "call",
                                "fun": "list",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "jags_params"
                                  }
                                ]
                              },
                              "timeout": {
                                "type": "call",
                                "fun": "%||%",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "$",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "config"
                                      },
                                      {
                                        "type": "name",
                                        "value": "timeout"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "literal",
                                    "value": 600
                                  }
                                ]
                              },
                              "memory_limit": {
                                "type": "call",
                                "fun": "%||%",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "$",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "config"
                                      },
                                      {
                                        "type": "name",
                                        "value": "memory_limit"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "literal",
                                    "value": 4096
                                  }
                                ]
                              }
                            }
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "if",
                        "args": [
                          {
                            "type": "call",
                            "fun": "!",
                            "args": [
                              {
                                "type": "call",
                                "fun": "$",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "result"
                                  },
                                  {
                                    "type": "name",
                                    "value": "success"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "error_msg"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "%||%",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "$",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "result"
                                          },
                                          {
                                            "type": "name",
                                            "value": "error"
                                          }
                                        ]
                                      },
                                      {
                                        "type": "literal",
                                        "value": "Unknown error in JAGS computation"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "if",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "!",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "is.null",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "$",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "result"
                                              },
                                              {
                                                "type": "name",
                                                "value": "warnings"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "<-",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "error_msg"
                                          },
                                          {
                                            "type": "call",
                                            "fun": "paste",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "error_msg"
                                              },
                                              {
                                                "type": "literal",
                                                "value": "\nWarnings:"
                                              },
                                              {
                                                "type": "call",
                                                "fun": "paste",
                                                "args": {
                                                  "1": {
                                                    "type": "call",
                                                    "fun": "$",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "result"
                                                      },
                                                      {
                                                        "type": "name",
                                                        "value": "warnings"
                                                      }
                                                    ]
                                                  },
                                                  "collapse": {
                                                    "type": "literal",
                                                    "value": "\n"
                                                  }
                                                }
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "stop",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "sprintf",
                                    "args": [
                                      {
                                        "type": "literal",
                                        "value": "JAGS computation failed: %s"
                                      },
                                      {
                                        "type": "name",
                                        "value": "error_msg"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "computation_result"
                          },
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "result"
                              },
                              {
                                "type": "name",
                                "value": "result"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "computation_diagnostics"
                          },
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "result"
                              },
                              {
                                "type": "name",
                                "value": "diagnostics"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "computation_warnings"
                          },
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "result"
                              },
                              {
                                "type": "name",
                                "value": "warnings"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "computation_time"
                          },
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "result"
                              },
                              {
                                "type": "name",
                                "value": "duration"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "computation_result"
                          },
                          {
                            "type": "call",
                            "fun": "tryCatch",
                            "args": {
                              "1": {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "jags_computation",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "jags_params"
                                      }
                                    ]
                                  }
                                ]
                              },
                              "error": {
                                "type": "call",
                                "fun": "function",
                                "args": [
                                  {
                                    "type": "pairlist",
                                    "value": ""
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "stop",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "sprintf",
                                            "args": [
                                              {
                                                "type": "literal",
                                                "value": "JAGS computation failed: %s"
                                              },
                                              {
                                                "type": "call",
                                                "fun": "$",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "e"
                                                  },
                                                  {
                                                    "type": "name",
                                                    "value": "message"
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "NULL",
                                    "value": []
                                  }
                                ]
                              }
                            }
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "computation_diagnostics"
                          },
                          {
                            "type": "NULL",
                            "value": []
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "computation_warnings"
                          },
                          {
                            "type": "call",
                            "fun": "character",
                            "args": []
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "computation_time"
                          },
                          {
                            "type": "literal",
                            "value": null
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "!",
                    "args": [
                      {
                        "type": "call",
                        "fun": "is.null",
                        "args": [
                          {
                            "type": "name",
                            "value": "progress_callback"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "progress_callback",
                        "args": [
                          {
                            "type": "literal",
                            "value": "Processing results..."
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "samples"
                  },
                  {
                    "type": "call",
                    "fun": "$",
                    "args": [
                      {
                        "type": "name",
                        "value": "computation_result"
                      },
                      {
                        "type": "name",
                        "value": "samples"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "model_compiled"
                  },
                  {
                    "type": "call",
                    "fun": "$",
                    "args": [
                      {
                        "type": "name",
                        "value": "computation_result"
                      },
                      {
                        "type": "name",
                        "value": "model"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "jags_data"
                  },
                  {
                    "type": "call",
                    "fun": "$",
                    "args": [
                      {
                        "type": "name",
                        "value": "computation_result"
                      },
                      {
                        "type": "name",
                        "value": "jags_data"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "param_stats"
                  },
                  {
                    "type": "call",
                    "fun": "tryCatch",
                    "args": {
                      "1": {
                        "type": "call",
                        "fun": "{",
                        "args": [
                          {
                            "type": "call",
                            "fun": "calculate_parameter_statistics",
                            "args": [
                              {
                                "type": "name",
                                "value": "samples"
                              },
                              {
                                "type": "call",
                                "fun": "%||%",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "$",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "config"
                                      },
                                      {
                                        "type": "name",
                                        "value": "model_type"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "literal",
                                    "value": "generic"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      "error": {
                        "type": "call",
                        "fun": "function",
                        "args": [
                          {
                            "type": "pairlist",
                            "value": ""
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "warning",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "sprintf",
                                    "args": [
                                      {
                                        "type": "literal",
                                        "value": "Could not calculate parameter statistics: %s"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "$",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "e"
                                          },
                                          {
                                            "type": "name",
                                            "value": "message"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "NULL",
                                "value": []
                              }
                            ]
                          },
                          {
                            "type": "NULL",
                            "value": []
                          }
                        ]
                      }
                    }
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "predictions"
                  },
                  {
                    "type": "call",
                    "fun": "tryCatch",
                    "args": {
                      "1": {
                        "type": "call",
                        "fun": "{",
                        "args": [
                          {
                            "type": "call",
                            "fun": "calculate_predictions",
                            "args": [
                              {
                                "type": "name",
                                "value": "samples"
                              },
                              {
                                "type": "name",
                                "value": "data"
                              },
                              {
                                "type": "name",
                                "value": "config"
                              },
                              {
                                "type": "name",
                                "value": "jags_data"
                              }
                            ]
                          }
                        ]
                      },
                      "error": {
                        "type": "call",
                        "fun": "function",
                        "args": [
                          {
                            "type": "pairlist",
                            "value": ""
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "warning",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "sprintf",
                                    "args": [
                                      {
                                        "type": "literal",
                                        "value": "Could not generate predictions: %s"
                                      },
                                      {
                                        "type": "call",
                                        "fun": "$",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "e"
                                          },
                                          {
                                            "type": "name",
                                            "value": "message"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "NULL",
                                "value": []
                              }
                            ]
                          },
                          {
                            "type": "NULL",
                            "value": []
                          }
                        ]
                      }
                    }
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "is.null",
                    "args": [
                      {
                        "type": "name",
                        "value": "computation_diagnostics"
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "diagnostics"
                          },
                          {
                            "type": "call",
                            "fun": "tryCatch",
                            "args": {
                              "1": {
                                "type": "call",
                                "fun": "{",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "calculate_jags_diagnostics",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "samples"
                                      },
                                      {
                                        "type": "name",
                                        "value": "model_compiled"
                                      },
                                      {
                                        "type": "name",
                                        "value": "jags_data"
                                      }
                                    ]
                                  }
                                ]
                              },
                              "error": {
                                "type": "call",
                                "fun": "function",
                                "args": [
                                  {
                                    "type": "pairlist",
                                    "value": ""
                                  },
                                  {
                                    "type": "call",
                                    "fun": "{",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "warning",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "sprintf",
                                            "args": [
                                              {
                                                "type": "literal",
                                                "value": "Could not calculate diagnostics: %s"
                                              },
                                              {
                                                "type": "call",
                                                "fun": "$",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "e"
                                                  },
                                                  {
                                                    "type": "name",
                                                    "value": "message"
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "list",
                                        "args": {
                                          "convergence": {
                                            "type": "literal",
                                            "value": "unknown"
                                          }
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "type": "NULL",
                                    "value": []
                                  }
                                ]
                              }
                            }
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "diagnostics"
                          },
                          {
                            "type": "name",
                            "value": "computation_diagnostics"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "!",
                    "args": [
                      {
                        "type": "call",
                        "fun": "is.null",
                        "args": [
                          {
                            "type": "name",
                            "value": "progress_callback"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "progress_callback",
                        "args": [
                          {
                            "type": "literal",
                            "value": "Fitting completed successfully!"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "call",
                    "fun": "list",
                    "args": {
                      "model": {
                        "type": "name",
                        "value": "model_compiled"
                      },
                      "parameters": {
                        "type": "name",
                        "value": "param_stats"
                      },
                      "predictions": {
                        "type": "name",
                        "value": "predictions"
                      },
                      "diagnostics": {
                        "type": "name",
                        "value": "diagnostics"
                      },
                      "samples": {
                        "type": "name",
                        "value": "samples"
                      },
                      "config": {
                        "type": "name",
                        "value": "config"
                      },
                      "data": {
                        "type": "name",
                        "value": "data"
                      },
                      "warnings": {
                        "type": "name",
                        "value": "computation_warnings"
                      },
                      "computation_time": {
                        "type": "name",
                        "value": "computation_time"
                      }
                    }
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "validate_jags_inputs"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", ""]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "required_cols"
                  },
                  {
                    "type": "call",
                    "fun": "c",
                    "args": [
                      {
                        "type": "literal",
                        "value": "ID"
                      },
                      {
                        "type": "literal",
                        "value": "TIME"
                      },
                      {
                        "type": "literal",
                        "value": "DV"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "missing_cols"
                  },
                  {
                    "type": "call",
                    "fun": "setdiff",
                    "args": [
                      {
                        "type": "name",
                        "value": "required_cols"
                      },
                      {
                        "type": "call",
                        "fun": "names",
                        "args": [
                          {
                            "type": "name",
                            "value": "data"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": ">",
                    "args": [
                      {
                        "type": "call",
                        "fun": "length",
                        "args": [
                          {
                            "type": "name",
                            "value": "missing_cols"
                          }
                        ]
                      },
                      {
                        "type": "literal",
                        "value": 0
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "stop",
                        "args": [
                          {
                            "type": "call",
                            "fun": "sprintf",
                            "args": [
                              {
                                "type": "literal",
                                "value": "Missing required columns: %s"
                              },
                              {
                                "type": "call",
                                "fun": "paste",
                                "args": {
                                  "1": {
                                    "type": "name",
                                    "value": "missing_cols"
                                  },
                                  "collapse": {
                                    "type": "literal",
                                    "value": ", "
                                  }
                                }
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "&&",
                    "args": [
                      {
                        "type": "call",
                        "fun": "!",
                        "args": [
                          {
                            "type": "call",
                            "fun": "(",
                            "args": [
                              {
                                "type": "call",
                                "fun": "%in%",
                                "args": [
                                  {
                                    "type": "literal",
                                    "value": "DOSE"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "names",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "data"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "!",
                        "args": [
                          {
                            "type": "call",
                            "fun": "(",
                            "args": [
                              {
                                "type": "call",
                                "fun": "%in%",
                                "args": [
                                  {
                                    "type": "literal",
                                    "value": "AMT"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "names",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "data"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "stop",
                        "args": [
                          {
                            "type": "literal",
                            "value": "Data must contain either DOSE or AMT column for dosing information"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "||",
                    "args": [
                      {
                        "type": "call",
                        "fun": "any",
                        "args": [
                          {
                            "type": "call",
                            "fun": "is.na",
                            "args": [
                              {
                                "type": "call",
                                "fun": "$",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "data"
                                  },
                                  {
                                    "type": "name",
                                    "value": "TIME"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "any",
                        "args": [
                          {
                            "type": "call",
                            "fun": "<",
                            "args": [
                              {
                                "type": "call",
                                "fun": "$",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "data"
                                  },
                                  {
                                    "type": "name",
                                    "value": "TIME"
                                  }
                                ]
                              },
                              {
                                "type": "literal",
                                "value": 0
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "stop",
                        "args": [
                          {
                            "type": "literal",
                            "value": "Invalid TIME values detected (NA or negative)"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "all",
                    "args": [
                      {
                        "type": "call",
                        "fun": "is.na",
                        "args": [
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "data"
                              },
                              {
                                "type": "name",
                                "value": "DV"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "stop",
                        "args": [
                          {
                            "type": "literal",
                            "value": "All DV values are NA"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "&&",
                    "args": [
                      {
                        "type": "call",
                        "fun": "!",
                        "args": [
                          {
                            "type": "call",
                            "fun": "is.null",
                            "args": [
                              {
                                "type": "call",
                                "fun": "$",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "config"
                                  },
                                  {
                                    "type": "name",
                                    "value": "n_chains"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "(",
                        "args": [
                          {
                            "type": "call",
                            "fun": "||",
                            "args": [
                              {
                                "type": "call",
                                "fun": "<",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "$",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "config"
                                      },
                                      {
                                        "type": "name",
                                        "value": "n_chains"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "literal",
                                    "value": 1
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": ">",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "$",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "config"
                                      },
                                      {
                                        "type": "name",
                                        "value": "n_chains"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "literal",
                                    "value": 10
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "stop",
                        "args": [
                          {
                            "type": "literal",
                            "value": "Number of chains must be between 1 and 10"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "&&",
                    "args": [
                      {
                        "type": "call",
                        "fun": "!",
                        "args": [
                          {
                            "type": "call",
                            "fun": "is.null",
                            "args": [
                              {
                                "type": "call",
                                "fun": "$",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "config"
                                  },
                                  {
                                    "type": "name",
                                    "value": "n_iter"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "<",
                        "args": [
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "config"
                              },
                              {
                                "type": "name",
                                "value": "n_iter"
                              }
                            ]
                          },
                          {
                            "type": "literal",
                            "value": 100
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "stop",
                        "args": [
                          {
                            "type": "literal",
                            "value": "Number of iterations must be at least 100"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "literal",
                    "value": true
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "set_default_jags_config"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ""
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "defaults"
                  },
                  {
                    "type": "call",
                    "fun": "list",
                    "args": {
                      "n_chains": {
                        "type": "literal",
                        "value": 3
                      },
                      "n_iter": {
                        "type": "literal",
                        "value": 5000
                      },
                      "n_burnin": {
                        "type": "literal",
                        "value": 1000
                      },
                      "thin": {
                        "type": "literal",
                        "value": 1
                      },
                      "adapt": {
                        "type": "literal",
                        "value": 1000
                      },
                      "error_model": {
                        "type": "literal",
                        "value": "additive"
                      },
                      "model_type": {
                        "type": "literal",
                        "value": "one_comp"
                      }
                    }
                  }
                ]
              },
              {
                "type": "call",
                "fun": "for",
                "args": [
                  {
                    "type": "name",
                    "value": "name"
                  },
                  {
                    "type": "call",
                    "fun": "names",
                    "args": [
                      {
                        "type": "name",
                        "value": "defaults"
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "if",
                        "args": [
                          {
                            "type": "call",
                            "fun": "is.null",
                            "args": [
                              {
                                "type": "call",
                                "fun": "[[",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "config"
                                  },
                                  {
                                    "type": "name",
                                    "value": "name"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "[[",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "config"
                                      },
                                      {
                                        "type": "name",
                                        "value": "name"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "[[",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "defaults"
                                      },
                                      {
                                        "type": "name",
                                        "value": "name"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "name",
                    "value": "config"
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "prepare_jags_data"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", ""]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "data"
                  },
                  {
                    "type": "call",
                    "fun": "%>%",
                    "args": [
                      {
                        "type": "name",
                        "value": "data"
                      },
                      {
                        "type": "call",
                        "fun": "filter",
                        "args": [
                          {
                            "type": "call",
                            "fun": "!",
                            "args": [
                              {
                                "type": "call",
                                "fun": "is.na",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "TIME"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "||",
                    "args": [
                      {
                        "type": "call",
                        "fun": "%in%",
                        "args": [
                          {
                            "type": "literal",
                            "value": "BLQ"
                          },
                          {
                            "type": "call",
                            "fun": "names",
                            "args": [
                              {
                                "type": "name",
                                "value": "data"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "any",
                        "args": {
                          "1": {
                            "type": "call",
                            "fun": "<=",
                            "args": [
                              {
                                "type": "call",
                                "fun": "$",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "data"
                                  },
                                  {
                                    "type": "name",
                                    "value": "DV"
                                  }
                                ]
                              },
                              {
                                "type": "literal",
                                "value": 0
                              }
                            ]
                          },
                          "na.rm": {
                            "type": "literal",
                            "value": true
                          }
                        }
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "lloq"
                          },
                          {
                            "type": "call",
                            "fun": "%||%",
                            "args": [
                              {
                                "type": "call",
                                "fun": "$",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "config"
                                  },
                                  {
                                    "type": "name",
                                    "value": "lloq"
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "min",
                                "args": {
                                  "1": {
                                    "type": "call",
                                    "fun": "[",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "$",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "data"
                                          },
                                          {
                                            "type": "name",
                                            "value": "DV"
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": ">",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "$",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "data"
                                              },
                                              {
                                                "type": "name",
                                                "value": "DV"
                                              }
                                            ]
                                          },
                                          {
                                            "type": "literal",
                                            "value": 0
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  "na.rm": {
                                    "type": "literal",
                                    "value": true
                                  }
                                }
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "data"
                          },
                          {
                            "type": "call",
                            "fun": "handle_blq_data",
                            "args": [
                              {
                                "type": "name",
                                "value": "data"
                              },
                              {
                                "type": "name",
                                "value": "lloq"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "%in%",
                    "args": [
                      {
                        "type": "literal",
                        "value": "DOSE"
                      },
                      {
                        "type": "call",
                        "fun": "names",
                        "args": [
                          {
                            "type": "name",
                            "value": "data"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "doses"
                          },
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "data"
                              },
                              {
                                "type": "name",
                                "value": "DOSE"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "if",
                    "args": [
                      {
                        "type": "call",
                        "fun": "%in%",
                        "args": [
                          {
                            "type": "literal",
                            "value": "AMT"
                          },
                          {
                            "type": "call",
                            "fun": "names",
                            "args": [
                              {
                                "type": "name",
                                "value": "data"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "{",
                        "args": [
                          {
                            "type": "call",
                            "fun": "<-",
                            "args": [
                              {
                                "type": "name",
                                "value": "dose_data"
                              },
                              {
                                "type": "call",
                                "fun": "%>%",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "%>%",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "%>%",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "%>%",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "data"
                                              },
                                              {
                                                "type": "call",
                                                "fun": "filter",
                                                "args": [
                                                  {
                                                    "type": "call",
                                                    "fun": "!",
                                                    "args": [
                                                      {
                                                        "type": "call",
                                                        "fun": "is.na",
                                                        "args": [
                                                          {
                                                            "type": "name",
                                                            "value": "AMT"
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "type": "call",
                                                    "fun": ">",
                                                    "args": [
                                                      {
                                                        "type": "name",
                                                        "value": "AMT"
                                                      },
                                                      {
                                                        "type": "literal",
                                                        "value": 0
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "group_by",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "ID"
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": "slice",
                                        "args": [
                                          {
                                            "type": "literal",
                                            "value": 1
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "select",
                                    "args": {
                                      "1": {
                                        "type": "name",
                                        "value": "ID"
                                      },
                                      "DOSE": {
                                        "type": "name",
                                        "value": "AMT"
                                      }
                                    }
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "<-",
                            "args": [
                              {
                                "type": "name",
                                "value": "data"
                              },
                              {
                                "type": "call",
                                "fun": "%>%",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "data"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "left_join",
                                    "args": {
                                      "1": {
                                        "type": "name",
                                        "value": "dose_data"
                                      },
                                      "by": {
                                        "type": "literal",
                                        "value": "ID"
                                      }
                                    }
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "<-",
                            "args": [
                              {
                                "type": "name",
                                "value": "doses"
                              },
                              {
                                "type": "call",
                                "fun": "$",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "data"
                                  },
                                  {
                                    "type": "name",
                                    "value": "DOSE"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "id_map"
                  },
                  {
                    "type": "call",
                    "fun": "data.frame",
                    "args": {
                      "ID_original": {
                        "type": "call",
                        "fun": "unique",
                        "args": [
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "data"
                              },
                              {
                                "type": "name",
                                "value": "ID"
                              }
                            ]
                          }
                        ]
                      },
                      "ID_numeric": {
                        "type": "call",
                        "fun": "seq_along",
                        "args": [
                          {
                            "type": "call",
                            "fun": "unique",
                            "args": [
                              {
                                "type": "call",
                                "fun": "$",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "data"
                                  },
                                  {
                                    "type": "name",
                                    "value": "ID"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    }
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "data"
                  },
                  {
                    "type": "call",
                    "fun": "%>%",
                    "args": [
                      {
                        "type": "name",
                        "value": "data"
                      },
                      {
                        "type": "call",
                        "fun": "left_join",
                        "args": {
                          "1": {
                            "type": "name",
                            "value": "id_map"
                          },
                          "by": {
                            "type": "call",
                            "fun": "c",
                            "args": {
                              "ID": {
                                "type": "literal",
                                "value": "ID_original"
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "jags_data"
                  },
                  {
                    "type": "call",
                    "fun": "list",
                    "args": {
                      "N": {
                        "type": "call",
                        "fun": "nrow",
                        "args": [
                          {
                            "type": "name",
                            "value": "data"
                          }
                        ]
                      },
                      "n_subjects": {
                        "type": "call",
                        "fun": "length",
                        "args": [
                          {
                            "type": "call",
                            "fun": "unique",
                            "args": [
                              {
                                "type": "call",
                                "fun": "$",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "data"
                                  },
                                  {
                                    "type": "name",
                                    "value": "ID_numeric"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      "ID": {
                        "type": "call",
                        "fun": "$",
                        "args": [
                          {
                            "type": "name",
                            "value": "data"
                          },
                          {
                            "type": "name",
                            "value": "ID_numeric"
                          }
                        ]
                      },
                      "TIME": {
                        "type": "call",
                        "fun": "$",
                        "args": [
                          {
                            "type": "name",
                            "value": "data"
                          },
                          {
                            "type": "name",
                            "value": "TIME"
                          }
                        ]
                      },
                      "DV": {
                        "type": "call",
                        "fun": "$",
                        "args": [
                          {
                            "type": "name",
                            "value": "data"
                          },
                          {
                            "type": "name",
                            "value": "DV"
                          }
                        ]
                      },
                      "DOSE": {
                        "type": "name",
                        "value": "doses"
                      }
                    }
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "%in%",
                    "args": [
                      {
                        "type": "literal",
                        "value": "BLQ"
                      },
                      {
                        "type": "call",
                        "fun": "names",
                        "args": [
                          {
                            "type": "name",
                            "value": "data"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "jags_data"
                              },
                              {
                                "type": "name",
                                "value": "is_blq"
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "as.integer",
                            "args": [
                              {
                                "type": "call",
                                "fun": "$",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "data"
                                  },
                                  {
                                    "type": "name",
                                    "value": "BLQ"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "jags_data"
                              },
                              {
                                "type": "name",
                                "value": "lloq"
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "%||%",
                            "args": [
                              {
                                "type": "call",
                                "fun": "$",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "config"
                                  },
                                  {
                                    "type": "name",
                                    "value": "lloq"
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "min",
                                "args": {
                                  "1": {
                                    "type": "call",
                                    "fun": "[",
                                    "args": [
                                      {
                                        "type": "call",
                                        "fun": "$",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "data"
                                          },
                                          {
                                            "type": "name",
                                            "value": "DV"
                                          }
                                        ]
                                      },
                                      {
                                        "type": "call",
                                        "fun": ">",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "$",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "data"
                                              },
                                              {
                                                "type": "name",
                                                "value": "DV"
                                              }
                                            ]
                                          },
                                          {
                                            "type": "literal",
                                            "value": 0
                                          }
                                        ]
                                      }
                                    ]
                                  },
                                  "na.rm": {
                                    "type": "literal",
                                    "value": true
                                  }
                                }
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "covariate_cols"
                  },
                  {
                    "type": "call",
                    "fun": "c",
                    "args": [
                      {
                        "type": "literal",
                        "value": "WT"
                      },
                      {
                        "type": "literal",
                        "value": "AGE"
                      },
                      {
                        "type": "literal",
                        "value": "SEX"
                      },
                      {
                        "type": "literal",
                        "value": "CRCL"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "for",
                "args": [
                  {
                    "type": "name",
                    "value": "cov"
                  },
                  {
                    "type": "name",
                    "value": "covariate_cols"
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "if",
                        "args": [
                          {
                            "type": "call",
                            "fun": "%in%",
                            "args": [
                              {
                                "type": "name",
                                "value": "cov"
                              },
                              {
                                "type": "call",
                                "fun": "names",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "data"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "[[",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "jags_data"
                                      },
                                      {
                                        "type": "name",
                                        "value": "cov"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "call",
                                    "fun": "[[",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "data"
                                      },
                                      {
                                        "type": "name",
                                        "value": "cov"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "name",
                    "value": "jags_data"
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "create_jags_model"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", "", ""]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "model_string"
                  },
                  {
                    "type": "literal",
                    "value": "\nmodel {\n  # Likelihood\n  for (i in 1:N) {\n    "
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "==",
                    "args": [
                      {
                        "type": "name",
                        "value": "error_model"
                      },
                      {
                        "type": "literal",
                        "value": "additive"
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "model_string"
                          },
                          {
                            "type": "call",
                            "fun": "paste0",
                            "args": [
                              {
                                "type": "name",
                                "value": "model_string"
                              },
                              {
                                "type": "literal",
                                "value": "\n    DV[i] ~ dnorm(pred[i], tau)\n    pred[i] <- IPRED[i]"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "if",
                    "args": [
                      {
                        "type": "call",
                        "fun": "==",
                        "args": [
                          {
                            "type": "name",
                            "value": "error_model"
                          },
                          {
                            "type": "literal",
                            "value": "proportional"
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "{",
                        "args": [
                          {
                            "type": "call",
                            "fun": "<-",
                            "args": [
                              {
                                "type": "name",
                                "value": "model_string"
                              },
                              {
                                "type": "call",
                                "fun": "paste0",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "model_string"
                                  },
                                  {
                                    "type": "literal",
                                    "value": "\n    DV[i] ~ dnorm(pred[i], tau_prop[i])\n    tau_prop[i] <- tau / (pred[i] * pred[i] + 0.0001)\n    pred[i] <- IPRED[i]"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "if",
                        "args": [
                          {
                            "type": "call",
                            "fun": "==",
                            "args": [
                              {
                                "type": "name",
                                "value": "error_model"
                              },
                              {
                                "type": "literal",
                                "value": "combined"
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "model_string"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "paste0",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "model_string"
                                      },
                                      {
                                        "type": "literal",
                                        "value": "\n    DV[i] ~ dnorm(pred[i], tau_comb[i])\n    tau_comb[i] <- 1 / (sigma_add * sigma_add + sigma_prop * sigma_prop * pred[i] * pred[i] + 0.0001)\n    pred[i] <- IPRED[i]"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "model_string"
                  },
                  {
                    "type": "call",
                    "fun": "paste0",
                    "args": [
                      {
                        "type": "name",
                        "value": "model_string"
                      },
                      {
                        "type": "literal",
                        "value": "\n    \n    # One-compartment model\n    ke[i] <- CL_ind[ID[i]] / V_ind[ID[i]]\n    IPRED[i] <- DOSE[ID[i]] / V_ind[ID[i]] * exp(-ke[i] * TIME[i])\n  }\n  \n  # Individual parameters\n  for (j in 1:n_subjects) {\n    log_CL_ind[j] ~ dnorm(log_CL_pop, tau_CL)\n    log_V_ind[j] ~ dnorm(log_V_pop, tau_V)\n    CL_ind[j] <- exp(log_CL_ind[j])\n    V_ind[j] <- exp(log_V_ind[j])\n  }\n  \n  # Population parameters with informative priors\n  log_CL_pop ~ dnorm(log(5), 0.5)\n  log_V_pop ~ dnorm(log(50), 0.5)\n  CL_pop <- exp(log_CL_pop)\n  V_pop <- exp(log_V_pop)\n  \n  # Between-subject variability\n  tau_CL ~ dgamma(0.01, 0.01)\n  tau_V ~ dgamma(0.01, 0.01)\n  omega_CL <- 1 / tau_CL\n  omega_V <- 1 / tau_V\n  "
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "==",
                    "args": [
                      {
                        "type": "name",
                        "value": "error_model"
                      },
                      {
                        "type": "literal",
                        "value": "additive"
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "name",
                            "value": "model_string"
                          },
                          {
                            "type": "call",
                            "fun": "paste0",
                            "args": [
                              {
                                "type": "name",
                                "value": "model_string"
                              },
                              {
                                "type": "literal",
                                "value": "\n  # Residual error\n  tau <- 1 / (sigma * sigma)\n  sigma ~ dunif(0, 10)\n}"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "if",
                    "args": [
                      {
                        "type": "call",
                        "fun": "==",
                        "args": [
                          {
                            "type": "name",
                            "value": "error_model"
                          },
                          {
                            "type": "literal",
                            "value": "proportional"
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "{",
                        "args": [
                          {
                            "type": "call",
                            "fun": "<-",
                            "args": [
                              {
                                "type": "name",
                                "value": "model_string"
                              },
                              {
                                "type": "call",
                                "fun": "paste0",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "model_string"
                                  },
                                  {
                                    "type": "literal",
                                    "value": "\n  # Residual error  \n  tau <- 1 / (sigma_prop * sigma_prop)\n  sigma_prop ~ dunif(0, 1)\n  sigma <- sigma_prop\n}"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "if",
                        "args": [
                          {
                            "type": "call",
                            "fun": "==",
                            "args": [
                              {
                                "type": "name",
                                "value": "error_model"
                              },
                              {
                                "type": "literal",
                                "value": "combined"
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "model_string"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "paste0",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "model_string"
                                      },
                                      {
                                        "type": "literal",
                                        "value": "\n  # Residual error\n  sigma_add ~ dunif(0, 10)\n  sigma_prop ~ dunif(0, 1)\n  sigma <- sigma_add\n}"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "name",
                    "value": "model_string"
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "create_initial_values"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", "", ""]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "n_chains"
                  },
                  {
                    "type": "call",
                    "fun": "$",
                    "args": [
                      {
                        "type": "name",
                        "value": "config"
                      },
                      {
                        "type": "name",
                        "value": "n_chains"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "n_subjects"
                  },
                  {
                    "type": "call",
                    "fun": "$",
                    "args": [
                      {
                        "type": "name",
                        "value": "jags_data"
                      },
                      {
                        "type": "name",
                        "value": "n_subjects"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "generate_inits"
                  },
                  {
                    "type": "call",
                    "fun": "function",
                    "args": [
                      {
                        "type": "NULL",
                        "value": []
                      },
                      {
                        "type": "call",
                        "fun": "{",
                        "args": [
                          {
                            "type": "call",
                            "fun": "list",
                            "args": {
                              "log_CL_pop": {
                                "type": "call",
                                "fun": "rnorm",
                                "args": [
                                  {
                                    "type": "literal",
                                    "value": 1
                                  },
                                  {
                                    "type": "call",
                                    "fun": "log",
                                    "args": [
                                      {
                                        "type": "literal",
                                        "value": 5
                                      }
                                    ]
                                  },
                                  {
                                    "type": "literal",
                                    "value": 0.2
                                  }
                                ]
                              },
                              "log_V_pop": {
                                "type": "call",
                                "fun": "rnorm",
                                "args": [
                                  {
                                    "type": "literal",
                                    "value": 1
                                  },
                                  {
                                    "type": "call",
                                    "fun": "log",
                                    "args": [
                                      {
                                        "type": "literal",
                                        "value": 50
                                      }
                                    ]
                                  },
                                  {
                                    "type": "literal",
                                    "value": 0.2
                                  }
                                ]
                              },
                              "tau_CL": {
                                "type": "call",
                                "fun": "rgamma",
                                "args": [
                                  {
                                    "type": "literal",
                                    "value": 1
                                  },
                                  {
                                    "type": "literal",
                                    "value": 1
                                  },
                                  {
                                    "type": "literal",
                                    "value": 1
                                  }
                                ]
                              },
                              "tau_V": {
                                "type": "call",
                                "fun": "rgamma",
                                "args": [
                                  {
                                    "type": "literal",
                                    "value": 1
                                  },
                                  {
                                    "type": "literal",
                                    "value": 1
                                  },
                                  {
                                    "type": "literal",
                                    "value": 1
                                  }
                                ]
                              },
                              "log_CL_ind": {
                                "type": "call",
                                "fun": "rnorm",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "n_subjects"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "log",
                                    "args": [
                                      {
                                        "type": "literal",
                                        "value": 5
                                      }
                                    ]
                                  },
                                  {
                                    "type": "literal",
                                    "value": 0.1
                                  }
                                ]
                              },
                              "log_V_ind": {
                                "type": "call",
                                "fun": "rnorm",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "n_subjects"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "log",
                                    "args": [
                                      {
                                        "type": "literal",
                                        "value": 50
                                      }
                                    ]
                                  },
                                  {
                                    "type": "literal",
                                    "value": 0.1
                                  }
                                ]
                              },
                              "sigma": {
                                "type": "call",
                                "fun": "runif",
                                "args": [
                                  {
                                    "type": "literal",
                                    "value": 1
                                  },
                                  {
                                    "type": "literal",
                                    "value": 0.1
                                  },
                                  {
                                    "type": "literal",
                                    "value": 2
                                  }
                                ]
                              }
                            }
                          }
                        ]
                      },
                      {
                        "type": "NULL",
                        "value": []
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "inits"
                  },
                  {
                    "type": "call",
                    "fun": "lapply",
                    "args": [
                      {
                        "type": "call",
                        "fun": ":",
                        "args": [
                          {
                            "type": "literal",
                            "value": 1
                          },
                          {
                            "type": "name",
                            "value": "n_chains"
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "function",
                        "args": [
                          {
                            "type": "pairlist",
                            "value": ""
                          },
                          {
                            "type": "call",
                            "fun": "generate_inits",
                            "args": []
                          },
                          {
                            "type": "NULL",
                            "value": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "name",
                    "value": "inits"
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "calculate_parameter_statistics"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", ""]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "combined_samples"
                  },
                  {
                    "type": "call",
                    "fun": "do.call",
                    "args": [
                      {
                        "type": "name",
                        "value": "rbind"
                      },
                      {
                        "type": "name",
                        "value": "samples"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "pop_params"
                  },
                  {
                    "type": "call",
                    "fun": "c",
                    "args": [
                      {
                        "type": "literal",
                        "value": "CL_pop"
                      },
                      {
                        "type": "literal",
                        "value": "V_pop"
                      },
                      {
                        "type": "literal",
                        "value": "Q_pop"
                      },
                      {
                        "type": "literal",
                        "value": "V2_pop"
                      },
                      {
                        "type": "literal",
                        "value": "Ka_pop"
                      },
                      {
                        "type": "literal",
                        "value": "F_pop"
                      },
                      {
                        "type": "literal",
                        "value": "omega_CL"
                      },
                      {
                        "type": "literal",
                        "value": "omega_V"
                      },
                      {
                        "type": "literal",
                        "value": "omega_Q"
                      },
                      {
                        "type": "literal",
                        "value": "omega_V2"
                      },
                      {
                        "type": "literal",
                        "value": "sigma"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "param_stats"
                  },
                  {
                    "type": "call",
                    "fun": "data.frame",
                    "args": []
                  }
                ]
              },
              {
                "type": "call",
                "fun": "for",
                "args": [
                  {
                    "type": "name",
                    "value": "param"
                  },
                  {
                    "type": "name",
                    "value": "pop_params"
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "if",
                        "args": [
                          {
                            "type": "call",
                            "fun": "%in%",
                            "args": [
                              {
                                "type": "name",
                                "value": "param"
                              },
                              {
                                "type": "call",
                                "fun": "colnames",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "combined_samples"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "{",
                            "args": [
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "values"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "[",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "combined_samples"
                                      },
                                      {
                                        "type": "name",
                                        "value": ""
                                      },
                                      {
                                        "type": "name",
                                        "value": "param"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "stats"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "data.frame",
                                    "args": {
                                      "Parameter": {
                                        "type": "name",
                                        "value": "param"
                                      },
                                      "Mean": {
                                        "type": "call",
                                        "fun": "mean",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "values"
                                          }
                                        ]
                                      },
                                      "Median": {
                                        "type": "call",
                                        "fun": "median",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "values"
                                          }
                                        ]
                                      },
                                      "SD": {
                                        "type": "call",
                                        "fun": "sd",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "values"
                                          }
                                        ]
                                      },
                                      "SE": {
                                        "type": "call",
                                        "fun": "/",
                                        "args": [
                                          {
                                            "type": "call",
                                            "fun": "sd",
                                            "args": [
                                              {
                                                "type": "name",
                                                "value": "values"
                                              }
                                            ]
                                          },
                                          {
                                            "type": "call",
                                            "fun": "sqrt",
                                            "args": [
                                              {
                                                "type": "call",
                                                "fun": "length",
                                                "args": [
                                                  {
                                                    "type": "name",
                                                    "value": "values"
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                        ]
                                      },
                                      "CI_2.5": {
                                        "type": "call",
                                        "fun": "quantile",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "values"
                                          },
                                          {
                                            "type": "literal",
                                            "value": 0.025
                                          }
                                        ]
                                      },
                                      "CI_97.5": {
                                        "type": "call",
                                        "fun": "quantile",
                                        "args": [
                                          {
                                            "type": "name",
                                            "value": "values"
                                          },
                                          {
                                            "type": "literal",
                                            "value": 0.975
                                          }
                                        ]
                                      },
                                      "stringsAsFactors": {
                                        "type": "literal",
                                        "value": false
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "<-",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "param_stats"
                                  },
                                  {
                                    "type": "call",
                                    "fun": "rbind",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "param_stats"
                                      },
                                      {
                                        "type": "name",
                                        "value": "stats"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "name",
                    "value": "param_stats"
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "calculate_predictions"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", "", "", ""]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "NULL",
                    "value": []
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "calculate_jags_diagnostics"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", "", ""]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "name",
                    "value": "diagnostics"
                  },
                  {
                    "type": "call",
                    "fun": "list",
                    "args": []
                  }
                ]
              },
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": ">",
                    "args": [
                      {
                        "type": "call",
                        "fun": "length",
                        "args": [
                          {
                            "type": "name",
                            "value": "samples"
                          }
                        ]
                      },
                      {
                        "type": "literal",
                        "value": 1
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "diagnostics"
                              },
                              {
                                "type": "name",
                                "value": "Rhat"
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "[",
                            "args": [
                              {
                                "type": "call",
                                "fun": "$",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "gelman.diag",
                                    "args": {
                                      "1": {
                                        "type": "name",
                                        "value": "samples"
                                      },
                                      "multivariate": {
                                        "type": "literal",
                                        "value": false
                                      }
                                    }
                                  },
                                  {
                                    "type": "name",
                                    "value": "psrf"
                                  }
                                ]
                              },
                              {
                                "type": "name",
                                "value": ""
                              },
                              {
                                "type": "literal",
                                "value": 1
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "call",
                    "fun": "$",
                    "args": [
                      {
                        "type": "name",
                        "value": "diagnostics"
                      },
                      {
                        "type": "name",
                        "value": "n_eff"
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "effectiveSize",
                    "args": [
                      {
                        "type": "name",
                        "value": "samples"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "tryCatch",
                "args": {
                  "1": {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "diagnostics"
                              },
                              {
                                "type": "name",
                                "value": "DIC"
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "dic.samples",
                            "args": {
                              "1": {
                                "type": "name",
                                "value": "model"
                              },
                              "n.iter": {
                                "type": "literal",
                                "value": 1000
                              },
                              "type": {
                                "type": "literal",
                                "value": "pD"
                              }
                            }
                          }
                        ]
                      }
                    ]
                  },
                  "error": {
                    "type": "call",
                    "fun": "function",
                    "args": [
                      {
                        "type": "pairlist",
                        "value": ""
                      },
                      {
                        "type": "call",
                        "fun": "{",
                        "args": [
                          {
                            "type": "call",
                            "fun": "<-",
                            "args": [
                              {
                                "type": "call",
                                "fun": "$",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "diagnostics"
                                  },
                                  {
                                    "type": "name",
                                    "value": "DIC"
                                  }
                                ]
                              },
                              {
                                "type": "literal",
                                "value": null
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "NULL",
                        "value": []
                      }
                    ]
                  }
                }
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "name",
                    "value": "diagnostics"
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "handle_blq_data"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", ""]
          },
          {
            "type": "call",
            "fun": "{",
            "args": [
              {
                "type": "call",
                "fun": "if",
                "args": [
                  {
                    "type": "call",
                    "fun": "!",
                    "args": [
                      {
                        "type": "call",
                        "fun": "(",
                        "args": [
                          {
                            "type": "call",
                            "fun": "%in%",
                            "args": [
                              {
                                "type": "literal",
                                "value": "BLQ"
                              },
                              {
                                "type": "call",
                                "fun": "names",
                                "args": [
                                  {
                                    "type": "name",
                                    "value": "data"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "{",
                    "args": [
                      {
                        "type": "call",
                        "fun": "<-",
                        "args": [
                          {
                            "type": "call",
                            "fun": "$",
                            "args": [
                              {
                                "type": "name",
                                "value": "data"
                              },
                              {
                                "type": "name",
                                "value": "BLQ"
                              }
                            ]
                          },
                          {
                            "type": "call",
                            "fun": "|",
                            "args": [
                              {
                                "type": "call",
                                "fun": "<=",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "$",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "data"
                                      },
                                      {
                                        "type": "name",
                                        "value": "DV"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "name",
                                    "value": "lloq"
                                  }
                                ]
                              },
                              {
                                "type": "call",
                                "fun": "is.na",
                                "args": [
                                  {
                                    "type": "call",
                                    "fun": "$",
                                    "args": [
                                      {
                                        "type": "name",
                                        "value": "data"
                                      },
                                      {
                                        "type": "name",
                                        "value": "DV"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "<-",
                "args": [
                  {
                    "type": "call",
                    "fun": "[",
                    "args": [
                      {
                        "type": "call",
                        "fun": "$",
                        "args": [
                          {
                            "type": "name",
                            "value": "data"
                          },
                          {
                            "type": "name",
                            "value": "DV"
                          }
                        ]
                      },
                      {
                        "type": "call",
                        "fun": "$",
                        "args": [
                          {
                            "type": "name",
                            "value": "data"
                          },
                          {
                            "type": "name",
                            "value": "BLQ"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "call",
                    "fun": "/",
                    "args": [
                      {
                        "type": "name",
                        "value": "lloq"
                      },
                      {
                        "type": "literal",
                        "value": 2
                      }
                    ]
                  }
                ]
              },
              {
                "type": "call",
                "fun": "return",
                "args": [
                  {
                    "type": "name",
                    "value": "data"
                  }
                ]
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  },
  {
    "type": "call",
    "fun": "<-",
    "args": [
      {
        "type": "name",
        "value": "%||%"
      },
      {
        "type": "call",
        "fun": "function",
        "args": [
          {
            "type": "pairlist",
            "value": ["", ""]
          },
          {
            "type": "call",
            "fun": "if",
            "args": [
              {
                "type": "call",
                "fun": "is.null",
                "args": [
                  {
                    "type": "name",
                    "value": "a"
                  }
                ]
              },
              {
                "type": "name",
                "value": "b"
              },
              {
                "type": "name",
                "value": "a"
              }
            ]
          },
          {
            "type": "NULL",
            "value": []
          }
        ]
      }
    ]
  }
]
